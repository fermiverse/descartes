{"version":3,"sources":["graphics/close.svg","graphics/menu.svg","graphics/earth.svg","graphics/regmap.svg","graphics/point.svg","graphics/graph.svg","graphics/area.svg","graphics/layers.svg","graphics/pencil.svg","graphics/marker1.svg","graphics/marker3.svg","graphics/marker2.svg","graphics/marker4.svg","graphics/indicator1.svg","graphics/indicator2.svg","graphics/indicator3.svg","graphics/expand.svg","graphics/information.svg","graphics/descartes_big.svg","graphics/github.png","graphics/instagram.png","graphics/linkedin.png","graphics/plogo.svg","components/Points.js","components/Lines.js","components/Areas.js","components/LineLayers.js","components/AreaLayers.js","components/Distances.js","components/Measures.js","components/PointLayers.js","components/PointPopup.js","components/LinePopup.js","components/AreaPopup.js","components/Map.js","components/Inline.js","components/ListPoints.js","components/Entity.js","components/ListEntities.js","components/GroupTable.js","components/Options.js","components/Sidebar.js","components/Output.js","components/Landing.js","components/SnapMenu.js","components/Input.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","Points","points","this","props","fpoints","activeGid","filter","point","gid","setPoints","setSelectedPoint","setSelectedLine","setSelectedArea","temp","type","map","key","uuid","latitude","coordinates","longitude","draggable","onDragStart","e","onDragEnd","modPoints","slice","i","indexOf","newPoint","lngLat","splice","offsetLeft","offsetTop","style","cursor","title","onClick","src","markMarker","pointMarker","alt","width","className","PureComponent","Lines","lines","flines","line","setLines","modLines","j","newLine","lineMarker","Areas","areas","fareas","area","setAreas","modAreas","newArea","areaMarker","LineLayers","geojsonLines","features","geometry","id","data","paint","layout","AreaLayers","geojsonAreas","Distances","haverSine","co1","co2","φ1","Math","PI","φ2","Δφ","Δλ","a","sin","cos","atan2","sqrt","destinations","distances","length","push","toFixed","color","fontSize","backgroundColor","padding","borderRadius","Measures","entities","entity","pts","concat","PointLayers","geojsonPoints","convertProps","keys","Object","mprops","forEach","value","PointPopup","state","metaProps","selectedPoint","properties","prevProps","setState","index","closeOnClick","sortByDepth","captureScroll","onClose","mprop","contentEditable","suppressContentEditableWarning","onBlur","document","getElementById","innerText","display","alignItems","justifyContent","modProps","prop","LinePopup","selectedLine","AreaPopup","selectedArea","current","mode","seekCenter","fline","flat","farea","allPts","pt","lats","longs","min","max","Map","showSidebar","tempMarks","setTempMarks","setActiveGid","gids","setGids","displayGid","setMasterProps","setDisplayGid","masterProps","origin","mapStyle","position","right","top","height","useState","window","innerHeight","zoom","viewPort","setViewPort","showSatMap","toggleShowSatMap","showLayers","toggleShowLayers","showMeasures","toggleShowMeasures","draw","init","drawLine","toggleDrawLine","beaconDist","setBeaconDist","hoverCoords","setHoverCoords","marks","setMarks","keyDown","alert","useEffect","addEventListener","removeEventListener","l","swBound","neBound","innerWidth","WebMercatorViewport","fitBounds","mapboxApiAccessToken","onViewportChange","newCoord","onHover","minZoom","touchRotate","zIndex","view","pointIcon","lineIcon","areaIcon","measureIcon","layerIcon","mapIcon","earthIcon","confirm","Inline","toggleShowInline","popFunction","arr","newArr","pop","toState","geojson","newGid","rand","guess","includes","replace","geoPoints","item","geoLines","geoAreas","count","elemCount","geoArea","newPoints","newLines","coord","newAreas","newMasterProps","toggleShowConfirm","error","console","log","showConfirm","setTimeout","marginLeft","onFocus","navigator","clipboard","readText","then","clipText","axios","get","res","ListPoints","page","paginate","selectedPoints","ceil","getPageArray","numPages","pageArray","CloseIcon","p","Entity","ent","setEntities","showContents","toggleShowContents","marginBottom","marginTop","ExpandIcon","newentities","ListEntities","selectedEntities","GroupTable","setMetaProps","showTable","toggleShowTable","groupName","setGroupName","float","marginRight","Options","getGroupName","showInfo","toggleShowInfo","onMouseEnter","onMouseLeave","infoIcon","newGids","closeIcon","defaultGid","filledGroups","emptyGroups","grp","lastGroup","Sidebar","toggleShowInput","toggleShowOutput","toggleShowSidebar","toggleShowSnap","showSnap","showInline","minWidth","left","overflowY","fontFamily","Menu","Indicator1","onSubmit","preventDefault","lat","lng","cds","target","elements","split","isNaN","abs","name","Number","reset","placeholder","autoComplete","Indicator2","Indicator3","Output","showOutput","selectedGroup","setSelectedGroup","toGeojson","geoObj","JSON","stringify","undefined","onChange","outline","outText","textContent","writeText","Landing","showLanding","toggleShowLanding","rev","href","Nawgati","Github","Linkedin","Instagram","MainImage","localStorage","setItem","SnapMenu","setIndex","snapCoords","margin","s","querySelector","revPts","reverse","reverseLine","Input","showInput","minHeight","txt","parse","App","flexWrap","getItem","onUnloadSave","sessionStorage","landing","defaultMasterProps","Boolean","location","hostname","match","ReactDOM","render","StrictMode","serviceWorker","ready","registration","unregister","catch","message"],"mappings":"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","file":"static/js/main.08e835e2.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/close.8b20cee7.svg\";","module.exports = __webpack_public_path__ + \"static/media/menu.4aaf92d0.svg\";","module.exports = __webpack_public_path__ + \"static/media/earth.11093ee1.svg\";","module.exports = __webpack_public_path__ + \"static/media/regmap.07ddfa3b.svg\";","module.exports = __webpack_public_path__ + \"static/media/point.5f83c812.svg\";","module.exports = __webpack_public_path__ + \"static/media/graph.cc27234c.svg\";","module.exports = __webpack_public_path__ + \"static/media/area.0574f801.svg\";","module.exports = __webpack_public_path__ + \"static/media/layers.2ddc5da1.svg\";","module.exports = __webpack_public_path__ + \"static/media/pencil.bdced74c.svg\";","module.exports = __webpack_public_path__ + \"static/media/marker1.3f22cecd.svg\";","module.exports = __webpack_public_path__ + \"static/media/marker3.ba8612b6.svg\";","module.exports = __webpack_public_path__ + \"static/media/marker2.2816d43b.svg\";","module.exports = __webpack_public_path__ + \"static/media/marker4.7a9f1bc6.svg\";","module.exports = __webpack_public_path__ + \"static/media/indicator1.0b77f2e2.svg\";","module.exports = __webpack_public_path__ + \"static/media/indicator2.5deb1712.svg\";","module.exports = __webpack_public_path__ + \"static/media/indicator3.f93caf92.svg\";","module.exports = __webpack_public_path__ + \"static/media/expand.4ef41a51.svg\";","module.exports = __webpack_public_path__ + \"static/media/information.8bbb0af1.svg\";","module.exports = __webpack_public_path__ + \"static/media/descartes_big.8c90f56f.svg\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDIxIDc5LjE1NDkxMSwgMjAxMy8xMC8yOS0xMTo0NzoxNiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MzlFQkFERkU4NkJCMTFFM0FBNTJFRTMzNTJEMUJDNDYiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MzlFQkFERkQ4NkJCMTFFM0FBNTJFRTMzNTJEMUJDNDYiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkU1MTc4QTJFOTlBMDExRTI5QTE1QkMxMDQ2QTg5MDREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkU1MTc4QTJGOTlBMDExRTI5QTE1QkMxMDQ2QTg5MDREIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+Kk5lQwAABYxJREFUeNrkm29oVXUYx3+7bM3V1FnbqlltrtXWtYRa1nqxooY5E7EhKWGuaTDBagol9SIMDCKICASj+cISw/DPi16ZBakrUBnoC7nNoTMWy6I1c+LmVq6t78N9jpyu555znt855+536IHPi939/jzP95zznN+/kzc1NaUitirwJJgPasF94DZQDG7hMqNgBFwEZ5kU+AH0R+lcXgQCJMBT4EXwLKgM2N7P4FvwJegCk6YKUA5eB23grogu2C/gc7AN/GGKABTsZtAOZqjc2DjYAT5kUfSNBNCkAGwGo1PTZ6PsQ4FuHLp3QD3YDR5QZtgZsAac1ElYokcGbATHDApesS/kUwf7GEkOKAK7wAvKbNsPXgZjYQowG3wNnlDxsONgCbgchgAU/GHwiIqXUT5o8hLBKwfcDA7FMHgrUR/iGLQEoGTyBWhQ8bUGjiFPR4A3QIuKv7VwLKIcQMnue5Dv0fjT/IwtAM3g+RyMBmkU+BXf3qc5Rx3xqDPBE7LjfkaCheCcj1HYKYe6JeBt8GcEo75L3HaJQ7+nfNQ/x7H9p67TFX4L1Pi4EocdfhsGH4BPwVbwqu0xGwI/8vT2N/77Gv+vAJSCO3n6PJ//Vjz72w62cPtORnfAwx7+1nBsW93ugGow7vOKtPkYa9eDl0Clxji9kuvW+yjb5tPncY7xet3MhjoFt2RzgIlU2DQL/O6017W/Be4BawXJqMCgTH+ToOxajvWG1+AmYVBlBglQKrxwmzIFoB9XCzt91CABpL6sti62JcBiXtKS2GMGCSD1pZxjvi7AKmED9PraYJAAG2yvVL+2yi7AImHl90C3QQJ03/B+97ZF1lCYVlN6BBV/BffykNQkoyF4H5grqJOkO6BR2NF2A4O35gifCOs0JjTW9vYaPPPbJ11LJAFqBRVoDf68wQLQI3BBUL424XPiY1lvDOb/ZwRla0iAOYIKv8dAgEFB2VtJgJmCChMxEEAyHigmAQoFFWbFQIDZgrKF0p2hmTEQQOQjCTAmKD8vBgJUCcqOkQBXBBXosEORwcEXKdmBjCskwICgQr5h0+BMW6i8V7LtNkAC9As7WWqwAM8Jy/cnhBMhspVKvq2eC0uwbxLrSWhMa+dpdJQLW6mRpLtpOlyuMcL7CTwErhoSPG2ApjQEuD3BQ0fp0ZJqlT6pZYpt0wieYh60nuWDGp2+At4xIPgt7IvU0jHzBkFdgD27HWDGNGyGFHHfulaXuTN0IkBjZ8EykJeDwKmPFtAXwN8TTltjrVkKfwcawXJW3G3v8DTYCKoiCLwGvAl6QthpbnU6J5jP2f1uh1Wgxbbxwv0qvT/vtZRGA6wuzs50+Pkb8JdgQtPMq1VJld7bnxtSzhjgJD5hzwEW611OZK6xlSvzeYbAsl3Cx4PK7ozodOl6t93hfJByqbzOVnYh+MdHhxfBLI1bnuoMhRx8imPMKgDR5LG/nrSVfddHpx8HeO4/ClmApsw+snXsdk7gYMat+r5Hp0sDCLAkxOA7nfrI1nGxx2tmQUb5x8FuzgvD4Dw4wNm2MIAA1SEF38cx+RaAeBCMZGlwb44GOyUhBD/CsTj24TatpddXq3L+RIVmXnE4QzjJMaSylvBxFdqzKHsVrDD8Dmj36sOvIx0unewHDRENg4MI0BH2FyP0RcZOlzW3Ib7VLvPqDK0z1PEq7bDmLVwCLgnr0AhvnUp/0eJp0k9m6HO4fUp2nGZODgUY5PzUJVlHkxg1TEfnjxqY8I6yb12SSjqLm7T9/Ax4TaW/+JxuIx862KcL4toBk1QFT1omXZLRHQHaL3Npl/r8jH3QjiGsbJ3kGd/fDo6WBWi31KG9a9xXMgzfw35tVfCR9l52dk8Ibe7htnq57YowfY7i4+lYWUL9z+1fAQYACqstE4NCc18AAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEEAAABACAYAAABFqxrgAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAATwSURBVHgB3ZyNVdswEMcvPAbIBnUngE5QM0HZgHQC2CDuBLQTJJ0AOkHcCUonsJkANvj3DsmPPKOTbX00Mb/3hF1bOkvn00knK11QAACWfCg5FZzOOC3t+XIv27L371hax7kcHzk9SFosFi0FsBib0Tb8mkzjSzpOWk73nH6EKsSJNJ7TmtMT5sWGU0GxsJArzK/xfdZD7Vx4FCCFK3ofiM+44C7y7LrpVAIr4JYPNxTGs005iHG2LadPLkW8UcJICxBBot1fVricP2uazgFMf+9SyemzPfchI8inIcGrgf4l/qGCGSmODq7XJadmoA23PgHFgIDtsTa+j31RPkqt4NpTqKKZAb9V77RCjVLgjmYK1/0GY63Bo7UGKSYcGcDrJK6x6c5VV3nrStu+9zPeKRlDh8nscN3+OOorjvu8l69U2vbUF6jNCgs6QjCxv0O3hlLun9gTl9evkwYhaTn33Csd136RR84p6TOw35QBmGG2oLcNaclMZnJMuB6U62ddpbQx9ZISAePEbjxmuY/09VtfV4Tez4U75fnOZ3UZtkqGktI0fo3wSHQDRRlwv7zGk99Vh6a7qY0MHyhOAZdIF4avlWesbP0leafzcM+DnrqbOyRWAvyzz1B2iJi2wz2kQu6daIXYQT1SAMi3DlFyilGE6nBPKSEYH4bLOuBfeq2YNExGi6FwWPKI47uglECJGWgiGA7DG5gRYjkgp0RMOKzL1X1fCiXAjAKNp9KTw3CEhsO6vG1uJayhU1EgCAmHdVmTldBMfECjPGBDkWBKOOyXoyrhhCJhIStyO7OW0zeKhEcpCXlr5XaSWW20EpgvyvVvCQMwTZlXlIAUSiiV6zUlgpVZK/LEIZ9TJFFKsBX4X2G4FtUeVgmkh+F/KT1aOFxQJCm6g4scawKazOjPALksYVbEKiHb25kgM9rqYpXQKtfPKD2aA3ygSKKUYEcA15uQICi1NWjzkZYiSeEYtTdxQ4mAWTJzWYJ8CT+sJVi05ezrhNaghc73lIAUStiSu0uIAibH/X1YkbJZTIsRflIK4FuAHC/DF/uvKRCYPVMa2UPp1Isq8h1h6qLKNfwUE+XlVYJ9SDlQ6QYm7B4jZzcgq6KJQFlek3sLmK8wbzwve93RGz33HlTxYcj8xX/UZAKi/YVWWeJf0fBEa3jfkbtu0n3K/vWXdmpap0C46Hfko0HgiONr54mnUNDHF1aszA+iV5Qc1KRswYtFlJBcKFe04sNXSjCbs8gq1UWkAgrHtfblL3SvGb1YAbMjbotwdinqYevi+i768lVaLKFVykU/XGILTis+/UjGMuoRxVoy3enCvv3oabH1Iy5f8mJZp5RRCR020NpKshUS2cVexbqtwHWmTRpaW1r5I0rw7+JIjG1kTf8XTQlmGRBmtqftI3gXK0cY2Lg1lKmimQPjnF00/Yzap66nuVsDzJYfF5t+Rl+XiA6HDwX8QVjpKpAlHD4U8Ad06gZvnzXMyiIQE4bD7Djz0WBEOHwokCoMx/AOkU4ZG5hNFOc4gPOEsdzCvrhbDG/xEf64ZGk/BNtS2GfvbubXP4+lP+0taDreX8Q5GWkRc2GHUGuFMfcG86aiWBAfDh+KHUYuxk75wXhBZo3uio77B+PyLeJ+Sgg+eTFVwOt/HSDRmSzDFfZWsZetoLS0e+ed05Vrj/YYvDvmH/UlUvwlo7csAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAGeSURBVHgB7ZiNUcJAEIVfGAuADo4KpAStQDqQDrQDsAJLADrACogVYAekA+3gfAvHDBM1s8G4d3Hum1kuOTbJvtzfXoCA935Im9P2/sg7bUubIXUYpDsL/DuekSqK4E88IkUY2NLrkC41RGIMaBOlrwQ/RWK0ESA4JIYI+ECPEQFvLfxLpAYH5o1yEO+RKgxupZiBHFKGAS5+evO0NgPdlOL8JLxlmSpdqNoURVEik/m/FIhIyK1kgrgLpQt/VaGUNeqV43DTdBPtOrBtuIeGRe2aeZieNeyD/5dkcgBj/DF93/FwgWOCqMEF/52vrUemAsLDpSUvXVecXH8uwroFtvh9Rutoy9OJpYB7dJeOy7g97E0sBTh0y4P8mA/iDpFWGKYgoMLlm6ppLAEl7ZY24iI1po14PKY9oR2TK9izZsCzeiXrKhaS0ku5hA5n3QIVrfH7EoWsoN+6XlsLeGGAmv6+hhJrARulX6n0M+9C2i8g6lnJVICy+6j9BEsBFf6APq/EB7KA2GQBsckCYpMFxCYLiE0WEJssIDa9F/AJdhLQG0LsNw8AAAAASUVORK5CYII=\"","module.exports = __webpack_public_path__ + \"static/media/plogo.ad839e81.svg\";","import React, { PureComponent } from 'react';\r\nimport { Marker } from 'react-map-gl';\r\nimport uuid from 'react-uuid';\r\nimport pointMarker from '../graphics/marker1.svg';\r\nimport markMarker from '../graphics/marker3.svg';\r\n\r\n\r\nclass Points extends PureComponent {\r\n    render() {\r\n      \r\n        const points = this.props.points;\r\n        const fpoints = this.props.activeGid ? this.props.points.filter(point => point.gid === this.props.activeGid) : this.props.points;\r\n        const setPoints = this.props.setPoints;\r\n        const setSelectedPoint = this.props.setSelectedPoint;\r\n        const setSelectedLine = this.props.setSelectedLine;\r\n        const setSelectedArea = this.props.setSelectedArea;\r\n        const temp = this.props.type === \"temp\";\r\n        \r\n        return (\r\n            fpoints.map(point => (\r\n                <Marker\r\n                key={uuid()}\r\n                latitude={point.coordinates[1]}\r\n                longitude={point.coordinates[0]}\r\n                draggable={true}\r\n                onDragStart={(e) => {\r\n                    setSelectedPoint(null);\r\n                }}\r\n                onDragEnd={(e) => {\r\n                    let modPoints = points.slice();\r\n                    let i = points.indexOf(point);\r\n                    let newPoint = {\r\n                        ...point,\r\n                        coordinates: e.lngLat\r\n                    }\r\n                    modPoints.splice(i, 1, newPoint);\r\n                    setPoints(modPoints);\r\n                }}\r\n                offsetLeft={temp ? -12 : -16}\r\n                offsetTop={temp ? -12 : -38.71}>\r\n                    <div style={{cursor: \"pointer\"}} title={`P${fpoints.indexOf(point)+1}`} onClick={(e) => {\r\n                        if (!temp) {\r\n                            setSelectedPoint(point);\r\n                            setSelectedLine(null);\r\n                            setSelectedArea(null);\r\n                        }\r\n                    }}>\r\n                        <img src={temp ? markMarker : pointMarker} alt=\"marker\" width={temp ? \"24px\" : \"32px\"} className=\"marker\"></img>\r\n                    </div>\r\n                </Marker>\r\n            ))\r\n        )\r\n    }\r\n\r\n} \r\n\r\nexport default Points","import React, { PureComponent } from 'react';\r\nimport { Marker } from 'react-map-gl';\r\nimport uuid from 'react-uuid';\r\nimport lineMarker from '../graphics/marker2.svg';\r\n\r\n\r\nclass Lines extends PureComponent {\r\n    render() {\r\n        const lines = this.props.lines;\r\n        const flines = this.props.activeGid ? this.props.lines.filter(line => line.gid === this.props.activeGid) : this.props.lines;\r\n        const setLines = this.props.setLines;\r\n        const setSelectedPoint = this.props.setSelectedPoint;\r\n        const setSelectedLine = this.props.setSelectedLine;\r\n        const setSelectedArea = this.props.setSelectedArea;\r\n        \r\n        return (flines.map(line => (\r\n            line.points.map(point => (\r\n                <Marker\r\n                key={uuid()}\r\n                latitude={point.coordinates[1]}\r\n                longitude={point.coordinates[0]}\r\n                draggable={true}\r\n                onDragEnd={(e) => {\r\n                    let modPoints = line.points.slice();\r\n                    let i = line.points.indexOf(point);\r\n                    let newPoint = {\r\n                        ...point,\r\n                        coordinates: e.lngLat\r\n                    }\r\n                    modPoints.splice(i, 1, newPoint);\r\n                    let modLines = lines.slice();\r\n                    let j = lines.indexOf(line);\r\n                    let newLine = {\r\n                        ...line,\r\n                        points: modPoints\r\n                    };\r\n                    modLines.splice(j, 1, newLine);\r\n                    setLines(modLines);\r\n                }}\r\n                offsetLeft={-12}\r\n                offsetTop={-12}>\r\n                    <div style={{cursor: \"pointer\"}} title={`L${flines.indexOf(line)+1}`} onClick={(e) => {\r\n                        setSelectedPoint(point);\r\n                        setSelectedLine(line);\r\n                        setSelectedArea(null);\r\n                    }}>\r\n                        <img src={lineMarker} alt=\"marker\" width=\"24px\" className=\"marker\"></img>\r\n                    </div>\r\n                </Marker>\r\n            ))\r\n        )))\r\n    }\r\n\r\n} \r\n\r\nexport default Lines","import React, { PureComponent } from 'react';\r\nimport { Marker } from 'react-map-gl';\r\nimport uuid from 'react-uuid';\r\nimport areaMarker from '../graphics/marker4.svg';\r\n\r\n\r\nclass Areas extends PureComponent {\r\n    render() {\r\n        const areas = this.props.areas;\r\n        const fareas = this.props.activeGid ? this.props.areas.filter(area => area.gid === this.props.activeGid) : this.props.areas;\r\n        const setAreas = this.props.setAreas;\r\n        const setSelectedPoint = this.props.setSelectedPoint;\r\n        const setSelectedArea = this.props.setSelectedArea;\r\n        const setSelectedLine = this.props.setSelectedLine;\r\n        \r\n        return (fareas.map(area => (\r\n            area.points.map(point => (\r\n                <Marker\r\n                key={uuid()}\r\n                latitude={point.coordinates[1]}\r\n                longitude={point.coordinates[0]}\r\n                draggable={true}\r\n                onDragEnd={(e) => {\r\n                    let modPoints = area.points.slice();\r\n                    let i = area.points.indexOf(point);\r\n                    let newPoint = {\r\n                        ...point,\r\n                        coordinates: e.lngLat\r\n                    }\r\n                    modPoints.splice(i, 1, newPoint);\r\n                    let modAreas = areas.slice();\r\n                    let j = areas.indexOf(area);\r\n                    let newArea = {\r\n                        ...area,\r\n                        points: modPoints\r\n                    };\r\n                    modAreas.splice(j, 1, newArea);\r\n                    setAreas(modAreas);\r\n                }}\r\n                offsetLeft={-12}\r\n                offsetTop={-12}>\r\n                    <div style={{cursor: \"pointer\"}} title={`A${fareas.indexOf(area)+1}`} onClick={(e) => {\r\n                        setSelectedPoint(point);\r\n                        setSelectedArea(area);\r\n                        setSelectedLine(null);\r\n                    }}>\r\n                        <img src={areaMarker} alt=\"marker\" width=\"24px\" className=\"marker\"></img>\r\n                    </div>\r\n                </Marker>\r\n            ))\r\n        )))\r\n    }\r\n\r\n} \r\n\r\nexport default Areas","import React, { PureComponent } from 'react';\r\nimport { Source, Layer } from 'react-map-gl';\r\n\r\n\r\nclass LineLayers extends PureComponent {\r\n\r\n    render() {\r\n        \r\n        const lineFeatures = this.props.lines.map(line => ({\r\n            type: \"Feature\",\r\n            geometry: {\r\n                \"type\": \"LineString\",\r\n                \"coordinates\": line.points.map(point => point.coordinates)\r\n            }\r\n        }));\r\n\r\n        const geojsonLines = {\r\n            type: \"FeatureCollection\",\r\n            features: lineFeatures\r\n        };  \r\n        \r\n        return (\r\n            <Source id=\"line\" type=\"geojson\" data={geojsonLines}>\r\n                <Layer\r\n                id=\"line-layer\"\r\n                type=\"line\"\r\n                paint={{\r\n                    \"line-color\": \"rgb(200,200,200)\",\r\n                    \"line-width\": 3\r\n                }}\r\n                layout={{\r\n                    \"line-cap\": \"round\",\r\n                    \"line-join\": \"round\"\r\n                }} />\r\n            </Source>\r\n        )\r\n    }\r\n\r\n} \r\n\r\nexport default LineLayers","import React, { PureComponent } from 'react';\r\nimport { Source, Layer } from 'react-map-gl';\r\n\r\n\r\nclass AreaLayers extends PureComponent {\r\n\r\n    render() {\r\n        \r\n        const areaFeatures = this.props.areas.map(area => ({\r\n            type: \"Feature\",\r\n            geometry: {\r\n                type: \"Polygon\",\r\n                coordinates: [\r\n                    area.points.map(point => point.coordinates)\r\n                ]\r\n            }\r\n        }));\r\n\r\n        const geojsonAreas = {\r\n            type: \"FeatureCollection\",\r\n            features: areaFeatures\r\n        }; \r\n        \r\n        return (\r\n            <Source id=\"area\" type=\"geojson\" data={geojsonAreas}>\r\n                <Layer\r\n                id=\"polygon-layer\"\r\n                type=\"fill\"\r\n                paint={{\r\n                    \"fill-color\": \"rgb(220,220,220)\",\r\n                    \"fill-opacity\": 0.45\r\n                }}\r\n                />\r\n            </Source>\r\n        )\r\n    }\r\n\r\n} \r\n\r\nexport default AreaLayers","import React, { PureComponent } from 'react';\r\nimport { Marker } from 'react-map-gl';\r\nimport uuid from 'react-uuid';\r\n\r\n\r\nclass Distances extends PureComponent {\r\n\r\n    haverSine = (co1, co2) => {\r\n        \t\r\n        const R = 6371e3; // metres\r\n        const φ1 = co1[1] * Math.PI/180; // φ, λ in radians\r\n        const φ2 = co2[1] * Math.PI/180;\r\n        const Δφ = (co2[1] - co1[1]) * Math.PI/180;\r\n        const Δλ = (co2[0] - co1[0]) * Math.PI/180;\r\n\r\n        const a = Math.sin(Δφ/2) * Math.sin(Δφ/2) +\r\n                Math.cos(φ1) * Math.cos(φ2) *\r\n                Math.sin(Δλ/2) * Math.sin(Δλ/2);\r\n        const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1-a));\r\n\r\n        const d = R * c; // in metres\r\n\r\n        return d;\r\n    };\r\n\r\n    render() {\r\n        const destinations = this.props.destinations;\r\n        const points = [];\r\n        const distances = [];\r\n        for (let i = 0; i < destinations.length - 1; i++) {\r\n            points.push([0.5*(destinations[i][0]+destinations[i+1][0]), 0.5*(destinations[i][1]+destinations[i+1][1])]);\r\n            distances.push(this.haverSine(destinations[i], destinations[i+1]).toFixed(3));\r\n        }\r\n        return (\r\n            points.map(point => (\r\n                <Marker\r\n                key={uuid()}\r\n                latitude={point[1]}\r\n                longitude={point[0]}>\r\n                    <div style={{color: \"rgb(180, 180, 180)\", fontSize: \"10.5px\", backgroundColor: \"rgba(0, 0, 0, 0.4)\", padding: \"5px\", borderRadius: \"5px\"}}>\r\n                        {`${distances[points.indexOf(point)]}m`}  \r\n                    </div>\r\n                </Marker>\r\n            ))\r\n        )\r\n    }\r\n\r\n} \r\n\r\nexport default Distances","import React, { PureComponent } from 'react';\r\nimport Distances from './Distances';\r\nimport uuid from 'react-uuid';\r\n\r\n\r\nclass Measures extends PureComponent {\r\n\r\n    render() {\r\n        const entities = this.props.activeGid ? this.props.entities.filter(entity => entity.gid === this.props.activeGid) : this.props.entities;\r\n        const type = this.props.type;       \r\n        return (type === \"areas\" ? (\r\n            entities.map(entity => (\r\n                <Distances key={uuid()} destinations={entity.points.map(pts => pts.coordinates).concat([entity.points[0].coordinates])}/>\r\n            ))\r\n        ) : (\r\n            entities.map(entity => (\r\n                <Distances key={uuid()} destinations={entity.points.map(pts => pts.coordinates)}/>\r\n            ))\r\n        ))\r\n    }\r\n\r\n} \r\n\r\nexport default Measures","import React, { PureComponent } from 'react';\r\nimport { Source, Layer } from 'react-map-gl';\r\n\r\n\r\nclass PointLayers extends PureComponent {\r\n\r\n    render() {\r\n        const fpoints = this.props.activeGid ? this.props.points.filter(point => point.gid !== this.props.activeGid) : []\r\n        const pointFeatures = fpoints.map(point => ({\r\n            type: \"Feature\",\r\n            geometry: {\r\n                \"type\": \"Point\",\r\n                \"coordinates\": point.coordinates\r\n            }\r\n        }));\r\n\r\n        const geojsonPoints = {\r\n            type: \"FeatureCollection\",\r\n            features: pointFeatures\r\n        };  \r\n        \r\n        return (\r\n            <Source id=\"point\" type=\"geojson\" data={geojsonPoints}>\r\n                <Layer\r\n                id=\"point-layer\"\r\n                type=\"circle\"\r\n                paint={{\r\n                    \"circle-color\": \"rgb(255, 0, 0)\",\r\n                    \"circle-radius\": 5,\r\n                    \"circle-stroke-color\": \"rgb(200, 200, 200)\",\r\n                    \"circle-stroke-width\": 2\r\n                }} />\r\n            </Source>\r\n        )\r\n    }\r\n\r\n} \r\n\r\nexport default PointLayers","import React, { PureComponent } from 'react';\r\nimport { Popup } from 'react-map-gl';\r\nimport uuid from 'react-uuid';\r\n\r\nfunction convertProps(props) {\r\n    if (props) {\r\n        let keys = Object.keys(props);\r\n        let mprops = [];\r\n        if (keys.length) {\r\n            keys.forEach(key => {\r\n                mprops.push({\r\n                    key: key,\r\n                    value: props[key]\r\n                })\r\n            })\r\n        }\r\n        return mprops;\r\n    } else return [];\r\n}\r\n\r\nclass PointPopup extends PureComponent {\r\n    state = { \r\n        metaProps: this.props.selectedPoint.properties ? convertProps(this.props.selectedPoint.properties) : []\r\n    }\r\n    \r\n    componentDidUpdate(prevProps) {\r\n        if (prevProps.selectedPoint !==this.props.selectedPoint) {\r\n            this.setState({\r\n                metaProps: this.props.selectedPoint.properties ? convertProps(this.props.selectedPoint.properties) : []\r\n            })\r\n        }\r\n    }\r\n\r\n    render() { \r\n        const {selectedPoint, setSelectedPoint, points, setPoints} = this.props;\r\n        const {coordinates, gid} = selectedPoint;\r\n        const index = points.indexOf(selectedPoint);\r\n        return ( \r\n            <Popup \r\n            latitude={coordinates[1]}\r\n            longitude={coordinates[0]}\r\n            offsetTop={-38.71}\r\n            closeOnClick={false}\r\n            sortByDepth={true}\r\n            captureScroll={true}\r\n            onClose={(e) => {\r\n                setSelectedPoint(null);\r\n            }}>\r\n                <table className=\"edit\">\r\n                    <thead>\r\n                        <tr>\r\n                            <td>Key</td>\r\n                            <td>Value</td>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        <tr>\r\n                            <td>Group</td>\r\n                            <td>{gid}</td>\r\n                        </tr>\r\n                        <tr>\r\n                            <td>Entity</td>\r\n                            <td>Point</td>\r\n                        </tr>\r\n                        <tr>\r\n                            <td>Latitude</td>\r\n                            <td style={{color: \"blue\"}}>{coordinates[1]}</td>\r\n                        </tr>\r\n                        <tr>\r\n                            <td>Longitude</td>\r\n                            <td style={{color: \"blue\"}}>{coordinates[0]}</td>\r\n                        </tr>\r\n                        {this.state.metaProps.map(mprop => (\r\n                            <tr key={uuid()}>\r\n                                <td id={`meta_${this.state.metaProps.indexOf(mprop)}`} contentEditable=\"true\" suppressContentEditableWarning=\"true\" onBlur={(e) => {\r\n                                    mprop[\"key\"] = document.getElementById(`meta_${this.state.metaProps.indexOf(mprop)}`).innerText;\r\n                                }}>{mprop[\"key\"]}</td>\r\n                                <td id={`val_${this.state.metaProps.indexOf(mprop)}`} contentEditable=\"true\" suppressContentEditableWarning=\"true\" onBlur={(e) => {\r\n                                    mprop[\"value\"] = document.getElementById(`val_${this.state.metaProps.indexOf(mprop)}`).innerText;\r\n                                }}>{mprop[\"value\"]}</td>\r\n                            </tr>\r\n                        ))}\r\n                    </tbody>\r\n                </table>\r\n                <div id=\"button-set\" style={{display: \"flex\", alignItems: \"baseline\", justifyContent: \"space-between\"}}>\r\n                    <button className=\"rounded\" id=\"fAdd\" title=\"Add a field\" onClick={() => {\r\n                        this.setState({metaProps: [...this.state.metaProps, {\r\n                            key: \"\",\r\n                            value: \"\"\r\n                        }]})\r\n                    }}>Add</button>\r\n                    <button className=\"rounded\" id=\"fReset\" title=\"Clear meta properties\" onClick={() => {\r\n                        this.setState({metaProps: []})\r\n                    }}>Clear</button>\r\n                    <button className=\"rounded\" title=\"Confirm\" onClick={() => {\r\n                        let modPoints = [...points];\r\n                        let modProps = {};\r\n                        for (let prop of this.state.metaProps) {\r\n                            if (prop[\"key\"]) modProps[prop[\"key\"]] = prop[\"value\"]\r\n                        }\r\n                        modPoints.splice(index, 1, {...selectedPoint, properties: modProps});\r\n                        setPoints(modPoints);\r\n                        setSelectedPoint(null);\r\n                    }}>Apply</button>\r\n                </div>\r\n            </Popup>\r\n        );\r\n    }\r\n}\r\n \r\nexport default PointPopup;\r\n","import React, { PureComponent } from 'react';\r\nimport { Popup } from 'react-map-gl';\r\nimport uuid from 'react-uuid';\r\n\r\nfunction convertProps(props) {\r\n    if (props) {\r\n        let keys = Object.keys(props);\r\n        let mprops = [];\r\n        if (keys.length) {\r\n            keys.forEach(key => {\r\n                mprops.push({\r\n                    key: key,\r\n                    value: props[key]\r\n                })\r\n            })\r\n        }\r\n        return mprops;\r\n    } else return [];\r\n}\r\n\r\nclass LinePopup extends PureComponent {\r\n    state = { \r\n        metaProps: this.props.selectedLine.properties ? convertProps(this.props.selectedLine.properties) : []\r\n    }\r\n    render() { \r\n        const {selectedPoint, setSelectedPoint, selectedLine, setSelectedLine, lines, setLines} = this.props;\r\n        const {coordinates, gid} = selectedPoint;\r\n        const index = lines.indexOf(selectedLine);\r\n        return ( \r\n            <Popup \r\n            latitude={coordinates[1]}\r\n            longitude={coordinates[0]}\r\n            offsetTop={-12}\r\n            closeOnClick={false}\r\n            sortByDepth={true}\r\n            captureScroll={true}\r\n            onClose={(e) => {\r\n                setSelectedPoint(null);\r\n                setSelectedLine(null);\r\n            }}>\r\n                <table className=\"edit\">\r\n                    <thead>\r\n                        <tr>\r\n                            <td>Key</td>\r\n                            <td>Value</td>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        <tr>\r\n                            <td>Group</td>\r\n                            <td>{gid}</td>\r\n                        </tr>\r\n                        <tr>\r\n                            <td>Entity</td>\r\n                            <td>LineString</td>\r\n                        </tr>\r\n                        <tr>\r\n                            <td>Vertex</td>\r\n                            <td>{`Vertex ${selectedLine.points.indexOf(selectedPoint) + 1}`}</td>\r\n                        </tr>\r\n                        <tr>\r\n                            <td>Latitude</td>\r\n                            <td style={{color: \"blue\"}}>{coordinates[1]}</td>\r\n                        </tr>\r\n                        <tr>\r\n                            <td>Longitude</td>\r\n                            <td style={{color: \"blue\"}}>{coordinates[0]}</td>\r\n                        </tr>\r\n                        {this.state.metaProps.map(mprop => (\r\n                            <tr key={uuid()}>\r\n                                <td id={`meta_${this.state.metaProps.indexOf(mprop)}`} contentEditable=\"true\" suppressContentEditableWarning=\"true\" onBlur={(e) => {\r\n                                    mprop[\"key\"] = document.getElementById(`meta_${this.state.metaProps.indexOf(mprop)}`).innerText;\r\n                                }}>{mprop[\"key\"]}</td>\r\n                                <td id={`val_${this.state.metaProps.indexOf(mprop)}`} contentEditable=\"true\" suppressContentEditableWarning=\"true\" onBlur={(e) => {\r\n                                    mprop[\"value\"] = document.getElementById(`val_${this.state.metaProps.indexOf(mprop)}`).innerText;\r\n                                }}>{mprop[\"value\"]}</td>\r\n                            </tr>\r\n                        ))}\r\n                    </tbody>\r\n                </table>\r\n                <div id=\"button-set\" style={{display: \"flex\", alignItems: \"baseline\", justifyContent: \"space-between\"}}>\r\n                    <button className=\"rounded\" id=\"fAdd\" title=\"Add a field\" onClick={() => {\r\n                        this.setState({metaProps: [...this.state.metaProps, {\r\n                            key: \"\",\r\n                            value: \"\"\r\n                        }]})\r\n                    }}>Add</button>\r\n                    <button className=\"rounded\" id=\"fReset\" title=\"Clear meta properties\" onClick={() => {\r\n                        this.setState({metaProps: []});\r\n                        let modLines = [...lines];\r\n                        modLines.splice(index, 1, {...selectedLine, properties: {}});\r\n                        setLines(modLines);\r\n                    }}>Clear</button>\r\n                    <button className=\"rounded\" title=\"Confirm\" onClick={() => {\r\n                        let modLines = [...lines];\r\n                        let modProps = {};\r\n                        for (let prop of this.state.metaProps) {\r\n                            if (prop[\"key\"]) modProps[prop[\"key\"]] = prop[\"value\"]\r\n                        }\r\n                        modLines.splice(index, 1, {...selectedLine, properties: modProps});\r\n                        setLines(modLines);\r\n                        setSelectedPoint(null);\r\n                        setSelectedLine(null);\r\n                    }}>Apply</button>\r\n                </div>\r\n            </Popup>\r\n        );\r\n    }\r\n}\r\n \r\nexport default LinePopup;","import React, { PureComponent } from 'react';\r\nimport { Popup } from 'react-map-gl';\r\nimport uuid from 'react-uuid';\r\n\r\nfunction convertProps(props) {\r\n    if (props) {\r\n        let keys = Object.keys(props);\r\n        let mprops = [];\r\n        if (keys.length) {\r\n            keys.forEach(key => {\r\n                mprops.push({\r\n                    key: key,\r\n                    value: props[key]\r\n                })\r\n            })\r\n        }\r\n        return mprops;\r\n    } else return [];\r\n}\r\n\r\nclass AreaPopup extends PureComponent {\r\n    state = { \r\n        metaProps: this.props.selectedArea.properties ? convertProps(this.props.selectedArea.properties) : []\r\n    }\r\n    render() { \r\n        const {selectedPoint, setSelectedPoint, selectedArea, setSelectedArea, areas, setAreas} = this.props;\r\n        const {coordinates, gid} = selectedPoint;\r\n        const index = areas.indexOf(selectedArea);\r\n        return ( \r\n            <Popup \r\n            latitude={coordinates[1]}\r\n            longitude={coordinates[0]}\r\n            offsetTop={-12}\r\n            closeOnClick={false}\r\n            sortByDepth={true}\r\n            captureScroll={true}\r\n            onClose={(e) => {\r\n                setSelectedPoint(null);\r\n                setSelectedArea(null);\r\n            }}>\r\n                <table className=\"edit\">\r\n                    <thead>\r\n                        <tr>\r\n                            <td>Key</td>\r\n                            <td>Value</td>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        <tr>\r\n                            <td>Group</td>\r\n                            <td>{gid}</td>\r\n                        </tr>\r\n                        <tr>\r\n                            <td>Entity</td>\r\n                            <td>Polygon</td>\r\n                        </tr>\r\n                        <tr>\r\n                            <td>Vertex</td>\r\n                            <td>{`Vertex ${selectedArea.points.indexOf(selectedPoint) + 1}`}</td>\r\n                        </tr>\r\n                        <tr>\r\n                            <td>Latitude</td>\r\n                            <td style={{color: \"blue\"}}>{coordinates[1]}</td>\r\n                        </tr>\r\n                        <tr>\r\n                            <td>Longitude</td>\r\n                            <td style={{color: \"blue\"}}>{coordinates[0]}</td>\r\n                        </tr>\r\n                        {this.state.metaProps.map(mprop => (\r\n                            <tr key={uuid()}>\r\n                                <td id={`meta_${this.state.metaProps.indexOf(mprop)}`} contentEditable=\"true\" suppressContentEditableWarning=\"true\" onBlur={(e) => {\r\n                                    mprop[\"key\"] = document.getElementById(`meta_${this.state.metaProps.indexOf(mprop)}`).innerText;\r\n                                }}>{mprop[\"key\"]}</td>\r\n                                <td id={`val_${this.state.metaProps.indexOf(mprop)}`} contentEditable=\"true\" suppressContentEditableWarning=\"true\" onBlur={(e) => {\r\n                                    mprop[\"value\"] = document.getElementById(`val_${this.state.metaProps.indexOf(mprop)}`).innerText;\r\n                                }}>{mprop[\"value\"]}</td>\r\n                            </tr>\r\n                        ))}\r\n                    </tbody>\r\n                </table>\r\n                <div id=\"button-set\" style={{display: \"flex\", alignItems: \"baseline\", justifyContent: \"space-between\"}}>\r\n                    <button className=\"rounded\" id=\"fAdd\" title=\"Add a field\" onClick={() => {\r\n                        this.setState({metaProps: [...this.state.metaProps, {\r\n                            key: \"\",\r\n                            value: \"\"\r\n                        }]})\r\n                    }}>Add</button>\r\n                    <button className=\"rounded\" id=\"fReset\" title=\"Clear meta properties\" onClick={() => {\r\n                        this.setState({metaProps: []});\r\n                        let modAreas = [...areas];\r\n                        modAreas.splice(index, 1, {...selectedArea, properties: {}});\r\n                        setAreas(modAreas);\r\n                    }}>Clear</button>\r\n                    <button className=\"rounded\" title=\"Confirm\" onClick={() => {\r\n                        let modAreas = [...areas];\r\n                        let modProps = {};\r\n                        for (let prop of this.state.metaProps) {\r\n                            if (prop[\"key\"]) modProps[prop[\"key\"]] = prop[\"value\"]\r\n                        }\r\n                        modAreas.splice(index, 1, {...selectedArea, properties: modProps});\r\n                        setAreas(modAreas);\r\n                        setSelectedPoint(null);\r\n                        setSelectedArea(null);\r\n                    }}>Apply</button>\r\n                </div>\r\n            </Popup>\r\n        );\r\n    }\r\n}\r\n \r\nexport default AreaPopup;","import React, { useState, useEffect } from 'react';\r\nimport ReactMapGL, { NavigationControl, GeolocateControl } from 'react-map-gl';\r\nimport WebMercatorViewport from '@math.gl/web-mercator';\r\nimport earthIcon from '../graphics/earth.svg';\r\nimport mapIcon from '../graphics/regmap.svg';\r\nimport pointIcon from '../graphics/point.svg';\r\nimport lineIcon from '../graphics/graph.svg';\r\nimport areaIcon from '../graphics/area.svg';\r\nimport layerIcon from '../graphics/layers.svg';\r\nimport measureIcon from '../graphics/pencil.svg';\r\nimport Points from './Points';\r\nimport Lines from './Lines';\r\nimport Areas from './Areas';\r\nimport LineLayers from './LineLayers';\r\nimport AreaLayers from './AreaLayers';\r\nimport Measures from './Measures';\r\nimport PointLayers from './PointLayers';\r\nimport PointPopup from './PointPopup';\r\nimport LinePopup from './LinePopup';\r\nimport AreaPopup from './AreaPopup';\r\n\r\nlet current = [];\r\nlet mode = 0;\r\n\r\nconst seekCenter = (activeGid, points, lines, areas) => {\r\n    let fpoints = points.filter(point => point.gid === activeGid);\r\n    let flines = lines.filter(line => line.gid === activeGid);\r\n    let fareas = areas.filter(area => area.gid === activeGid);\r\n    \r\n    if (fpoints.length + flines.length + fareas.length === 0) return [null, null];  \r\n    flines = flines.map(fline => fline.points).flat();\r\n    fareas = fareas.map(farea => farea.points).flat();\r\n    let allPts = [...fpoints, ...flines, ...fareas].map(pt => pt.coordinates);\r\n    let lats = allPts.map(pt => pt[1]);\r\n    let longs = allPts.map(pt => pt[0]);\r\n    let swBound = [Math.min(...longs), Math.min(...lats)];\r\n    let neBound = [Math.max(...longs), Math.max(...lats)];\r\n    return [swBound, neBound];\r\n};\r\n\r\nconst Map = ({points, setPoints, lines, setLines, areas, setAreas, \r\n    showSidebar, tempMarks, setTempMarks, \r\n    activeGid, setActiveGid, gids, setGids, \r\n    displayGid, setDisplayGid, masterProps, setMasterProps}) => {\r\n\r\n    const origin = points.length ? points[points.length - 1].coordinates : [77.516233, 28.494164];  \r\n\r\n    const mapStyle = {\r\n        position: \"absolute\",\r\n        right: \"0\",\r\n        top: \"0\",\r\n        height: \"100%\",\r\n        width: showSidebar ? \"calc(100vw - 384px)\" : \"100vw\"\r\n    };\r\n\r\n    const [viewPort, setViewPort] = useState({\r\n        latitude: origin[1],\r\n        longitude: origin[0], \r\n        width: \"fit\",\r\n        height: window.innerHeight,\r\n        zoom: 14\r\n    });\r\n\r\n    const [showSatMap, toggleShowSatMap] = useState(false);\r\n    const [showLayers, toggleShowLayers] = useState(true);\r\n    const [showMeasures, toggleShowMeasures] = useState(true);\r\n    const [drawLine, toggleDrawLine] = useState({draw: false, init: true});\r\n    const [beaconDist, setBeaconDist] = useState(null);\r\n    const [hoverCoords, setHoverCoords] = useState([]);\r\n    const [marks, setMarks] = useState([]);\r\n    const [selectedPoint, setSelectedPoint] = useState(null);\r\n    const [selectedLine, setSelectedLine] = useState(null);\r\n    const [selectedArea, setSelectedArea] = useState(null);\r\n\r\n    const haverSine = (co1, co2) => {\r\n        \t\r\n        const R = 6371e3; // metres\r\n        const φ1 = co1[1] * Math.PI/180; // φ, λ in radians\r\n        const φ2 = co2[1] * Math.PI/180;\r\n        const Δφ = (co2[1] - co1[1]) * Math.PI/180;\r\n        const Δλ = (co2[0] - co1[0]) * Math.PI/180;\r\n\r\n        const a = Math.sin(Δφ/2) * Math.sin(Δφ/2) +\r\n                Math.cos(φ1) * Math.cos(φ2) *\r\n                Math.sin(Δλ/2) * Math.sin(Δλ/2);\r\n        const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1-a));\r\n\r\n        const d = R * c; // in metres\r\n\r\n        return d;\r\n    };\r\n\r\n    const handleMapClick = (e) => {\r\n        if (drawLine.init) {\r\n            toggleDrawLine({draw: true, init: false});\r\n            return ;\r\n        } else {\r\n            let newCoord = e.lngLat;\r\n            current = newCoord;\r\n            setMarks([...marks, {\r\n                gid: activeGid,\r\n                coordinates: newCoord\r\n            }])\r\n        }\r\n    };\r\n\r\n    const handleMapHover = (e) => {\r\n        setHoverCoords(e.lngLat);\r\n        if (current && current[0]) setBeaconDist(haverSine(current, e.lngLat));\r\n    }\r\n\r\n    const keyDown = (e) => {\r\n        if (e.key === \"Escape\") {\r\n            if (marks.length) {\r\n                if (mode === 0) {\r\n                    setLines([...lines, {\r\n                        gid: activeGid,\r\n                        points: marks\r\n                    }])\r\n                } else if (mode === 1) {\r\n                    (marks.length > 2) ? (\r\n                        setAreas([...areas, {\r\n                            gid: activeGid,\r\n                            points: marks\r\n                        }])\r\n                    ) : (\r\n                        alert(\"Specify more than 2 nodes for polygon\")\r\n                    )\r\n                } else {\r\n                    setPoints([...points, ...marks])\r\n                }\r\n            }\r\n            toggleDrawLine({draw: false, init: true});\r\n            current = [];\r\n            setBeaconDist(null);\r\n            setMarks([]);\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        window.addEventListener(\"keydown\", keyDown)\r\n        return () => {\r\n            window.removeEventListener(\"keydown\", keyDown);\r\n        }\r\n    });\r\n\r\n    useEffect(() => {\r\n        let l = lines.length;\r\n        if (l && lines[l-1].points.length === 0) {\r\n            current = [];\r\n            setBeaconDist(null);\r\n        } \r\n    }, [lines]);\r\n\r\n    useEffect(() => {\r\n        setSelectedPoint(null);\r\n    }, [activeGid, gids]);\r\n\r\n    //Used to center the map to the selected group. Risky.\r\n    useEffect(() => {\r\n        const [swBound, neBound] = seekCenter(displayGid, points, lines, areas);\r\n        if (swBound !== null && neBound !== null && window.innerWidth > 800) {\r\n            const newView = new WebMercatorViewport({\r\n                width: showSidebar ? window.innerWidth - 384 : window.innerWidth,\r\n                height: window.innerHeight\r\n            });\r\n            let {latitude, longitude, zoom} = newView.fitBounds([swBound, neBound], {padding: 40});\r\n            zoom = Math.min(zoom, 13); //limits zoom level for individual points\r\n            setViewPort({\r\n                width: \"fit\",\r\n                height: window.innerHeight,\r\n                latitude, \r\n                longitude, \r\n                zoom\r\n            });\r\n        }\r\n    // eslint-disable-next-line\r\n    }, [displayGid]);\r\n\r\n    return (\r\n        <div id=\"map\" style={mapStyle}>\r\n            <ReactMapGL\r\n            {...viewPort}\r\n            mapboxApiAccessToken={\"pk.eyJ1IjoiZmVybWl2ZXJzZSIsImEiOiJja2Q2YzU0ejcwNWUyMnl2cTB6Z21vYXZsIn0.hlNWecQooJMCAwLdqiM-cQ\"}\r\n            mapStyle={showSatMap ? \"mapbox://styles/mapbox/satellite-v9\" : \"mapbox://styles/fermiverse/ckd7yqq7u084t1iqj97nvbjc6\"}\r\n            onViewportChange={(viewPort) => {\r\n                setViewPort({...viewPort, width: \"fit\", height: \"fit\"})\r\n            }}\r\n            onClick={drawLine.draw ? handleMapClick : null}\r\n            onHover={drawLine.draw ? handleMapHover : null}\r\n            minZoom={2}\r\n            touchRotate={true}>\r\n                <div style={{position: \"absolute\", right: \"15px\", top: \"30px\"}}>\r\n                    <NavigationControl />\r\n                </div>\r\n                <div style={{position: \"absolute\", top: \"135px\", right: \"15px\", zIndex: 100}}>\r\n                    <GeolocateControl \r\n                    onViewportChange={(view) => {\r\n                        const [swBound, neBound] = seekCenter(displayGid, points, lines, areas);\r\n                        if (swBound !== null && neBound !== null) {\r\n                            const newView = new WebMercatorViewport({\r\n                                width: showSidebar ? window.innerWidth - 384 : window.innerWidth,\r\n                                height: window.innerHeight\r\n                            });\r\n                            let {latitude, longitude, zoom} = newView.fitBounds([swBound, neBound], {padding: 40});\r\n                            zoom = Math.min(zoom, 13); //limits zoom level for individual points\r\n                            setViewPort({...viewPort, latitude, longitude, zoom});\r\n                        }\r\n                    }}\r\n                    />\r\n                </div>\r\n\r\n                {selectedPoint && !selectedLine && !selectedArea ? (\r\n                <PointPopup selectedPoint={selectedPoint} setSelectedPoint={setSelectedPoint} \r\n                points={points} setPoints={setPoints} />\r\n                ) : (null)}\r\n\r\n                {selectedPoint && selectedLine && !selectedArea ? (\r\n                <LinePopup selectedPoint={selectedPoint} setSelectedPoint={setSelectedPoint} \r\n                selectedLine={selectedLine} setSelectedLine={setSelectedLine} \r\n                lines={lines} setLines={setLines} />\r\n                ) : (null)}\r\n\r\n                {selectedPoint && selectedArea && !selectedLine ? (\r\n                <AreaPopup selectedPoint={selectedPoint} setSelectedPoint={setSelectedPoint}\r\n                selectedArea={selectedArea} setSelectedArea={setSelectedArea} \r\n                areas={areas} setAreas={setAreas} />\r\n                ) : (null)}\r\n\r\n                <Points points={points} setPoints={setPoints} type={\"\"} \r\n                activeGid={activeGid} setSelectedPoint={setSelectedPoint} \r\n                setSelectedArea={setSelectedArea} setSelectedLine={setSelectedLine} />\r\n                {marks.length ? (\r\n                    <Points points={marks} setPoints={setMarks} type={\"temp\"} />\r\n                ) : (null)}\r\n                {tempMarks.length ? (\r\n                    <Points points={tempMarks} setPoints={setTempMarks} type={\"temp\"} />\r\n                ) : (null)}\r\n                <Lines lines={lines} setLines={setLines} activeGid={activeGid} \r\n                setSelectedPoint={setSelectedPoint} setSelectedLine={setSelectedLine} setSelectedArea={setSelectedArea} />\r\n                <Areas areas={areas} setAreas={setAreas} activeGid={activeGid} \r\n                setSelectedPoint={setSelectedPoint} setSelectedArea={setSelectedArea} setSelectedLine={setSelectedLine} />\r\n\r\n                <button className=\"custom\" id=\"point\" title=\"Add a point\" onClick={() => {\r\n                    if (drawLine.draw) {\r\n                        current = [];\r\n                        mode = 0;\r\n                        setBeaconDist(null);\r\n                        setPoints([...points, ...marks]);\r\n                        setMarks([]);\r\n                    } else {\r\n                        mode = 2;\r\n                    }\r\n                    toggleDrawLine({draw: !drawLine.draw, init: true});\r\n                    }}>\r\n                    <img src={pointIcon} alt=\"pt\" width=\"6px\"></img>\r\n                </button>\r\n\r\n                <button className=\"custom\" id=\"line\" title=\"Add a line\" onClick={() => {\r\n                    if (drawLine.draw) {\r\n                        current = [];\r\n                        setBeaconDist(null);\r\n                        setLines([...lines, {\r\n                            gid: activeGid,\r\n                            points: marks\r\n                        }]);\r\n                        setMarks([]);\r\n                    }\r\n                    mode = 0;\r\n                    toggleDrawLine({draw: !drawLine.draw, init: true});\r\n                    }}>\r\n                    <img src={lineIcon} alt=\"line\" width=\"17px\"></img>\r\n                </button>\r\n\r\n                <button className=\"custom\" id=\"area\" title=\"Add a polygon\" onClick={() => {\r\n                    if (drawLine.draw) {\r\n                        current = [];\r\n                        mode = 0;\r\n                        setBeaconDist(null);\r\n                        if (marks.length >= 3) {\r\n                            setAreas([...areas, {\r\n                                gid: activeGid,\r\n                                points: marks\r\n                            }]);\r\n                        }\r\n                        setMarks([]);\r\n                    } else mode = 1;\r\n                    toggleDrawLine({draw: !drawLine.draw, init: true});\r\n                    }}>\r\n                    <img src={areaIcon} alt=\"ar\" width=\"17px\"></img>\r\n                </button>\r\n\r\n                {drawLine.draw ? (\r\n                    <div className=\"top-drawer\" id={showSidebar ? \"no-drop\" : \"drop\"}>\r\n                        <p>{`Draw Mode: ${mode === 0 ? \"Line\" : (mode === 1 ? \"Polygon\" : \"Point\")}, press Esc to exit`}</p>\r\n                        {hoverCoords[0] ? (<p>{`Latitude: ${hoverCoords[1].toFixed(6)}, Longitude: ${hoverCoords[0].toFixed(6)}`}</p>) : (null)}\r\n                        {beaconDist ? (<p>{`Displacement: ${beaconDist.toFixed(3)}m`}</p>) : (null)}\r\n                    </div>\r\n                ) : (null)}\r\n               \r\n                {showLayers ? (\r\n                    <PointLayers points={points} activeGid={activeGid} />\r\n                ) : (null)}\r\n\r\n                {showLayers ? (\r\n                    <LineLayers lines={lines} />\r\n                ) : (null)}\r\n\r\n                {showLayers ? (\r\n                    <AreaLayers areas={areas} />\r\n                ) : (null)}\r\n\r\n                {showMeasures ? (\r\n                    <Measures entities={lines} type={\"lines\"} activeGid={activeGid} />\r\n                ) : (null)}\r\n\r\n                {showMeasures ? (\r\n                    <Measures entities={areas} type={\"areas\"} activeGid={activeGid} />\r\n                ) : (null)}\r\n\r\n                <button className=\"blank\" id=\"measure\" title={showMeasures ? \"Hide measures\" : \"Show measures\"} onClick={() => {\r\n                    if (lines.length || areas.length) toggleShowMeasures(!showMeasures)\r\n                    else toggleShowMeasures(false)\r\n                    }}>\r\n                    <img src={measureIcon} alt=\"Ms\" width=\"20px\"></img>\r\n                </button>\r\n                \r\n                <button className=\"blank\" id=\"GJ\" title={showLayers ? \"Hide Layers\" : \"Show Layers\"} onClick={() => {\r\n                    if (lines.length || areas.length) toggleShowLayers(!showLayers)\r\n                    else toggleShowLayers(false)\r\n                    }}>\r\n                    <img src={layerIcon} alt=\"Layer\" width=\"24px\"></img>\r\n                </button>\r\n                \r\n                {showSatMap ? (\r\n                    <button className=\"blank\" id=\"toggle\" title=\"Regular View\" onClick={() => {toggleShowSatMap(!showSatMap)}}>\r\n                        <img src={mapIcon} alt=\"mapicon\" width=\"24px\"></img>\r\n                    </button>\r\n                ) : (\r\n                    <button className=\"blank\" id=\"toggle\" title=\"Satellite View\" onClick={() => {toggleShowSatMap(!showSatMap)}}>\r\n                        <img src={earthIcon} alt=\"sat\" width=\"24px\"></img>\r\n                    </button>\r\n                )}\r\n\r\n                <button className=\"rounded\" id=\"reset\" title=\"Reset Markers\" onClick={() => {\r\n                    const check = window.confirm(\"Clear all geoJSON entities and reset map?\");\r\n                    if (check) {\r\n                        toggleDrawLine({draw: false, init: true});\r\n                        setPoints([]);\r\n                        setLines([]);\r\n                        setAreas([]);\r\n                        setActiveGid(\"Group 1\");\r\n                        setGids([\"Group 1\"]);\r\n                        current = [];\r\n                        setBeaconDist(null);\r\n                        setSelectedPoint(null);\r\n                        setMasterProps({\"Group 1\": {}})\r\n                    }\r\n                }}>Reset</button>\r\n            </ReactMapGL>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Map;\r\n\r\n","import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\n\r\nconst Inline = ({points, setPoints, lines, setLines, areas, setAreas, toggleShowInline, activeGid, gids, setGids, masterProps, setMasterProps}) => {\r\n\r\n    const popFunction = (arr) => {\r\n        let newArr = [...arr];\r\n        newArr.pop()\r\n        return newArr\r\n    };\r\n\r\n    const elemCount = (points, lines, areas) => {\r\n        let count = 0;\r\n        count += points.length;\r\n        for (const line of lines) count += line.geometry.coordinates.length;\r\n        for (const area of areas) count += area.geometry.coordinates.length;\r\n        return count;\r\n    };\r\n\r\n    const rand = (guess) => {\r\n        if (gids.includes(guess)) {\r\n            const res = +guess.replace(\"Group \", \"\");\r\n            return rand(\"Group \" + (res + 1));\r\n        } else return guess;\r\n    };\r\n\r\n    const toState = (geojson, mode) => {\r\n        let newGid = \"Group \" + (gids.length + 1);\r\n        newGid = rand(newGid);\r\n        try {\r\n            let features = geojson.features;\r\n            let mprops = geojson.properties || {};\r\n            let geoPoints = features.filter(item => item.geometry.type === \"Point\");\r\n            let geoLines = features.filter(item => item.geometry.type === \"LineString\");\r\n            let geoAreas = features.filter(item => item.geometry.type === \"Polygon\");\r\n            geoAreas = geoAreas.map(geoArea => ({...geoArea, geometry: {\r\n                type: \"Polygon\",\r\n                coordinates: geoArea.geometry.coordinates[0]\r\n            }}));\r\n\r\n            if (elemCount(geoPoints, geoLines, geoAreas) > 1000) {\r\n                alert(\"Warning: Heavy dataset loaded. This will be rendered as static geoJSON in a separate group.\");\r\n                mode = 1;\r\n            }\r\n\r\n            let newPoints = geoPoints.map(item => ({\r\n                properties: item.properties ? item.properties : {},\r\n                gid: mode ? newGid : activeGid,\r\n                coordinates: item.geometry.coordinates\r\n            }));\r\n\r\n            let newLines = geoLines.map(item => ({\r\n                properties: item.properties ? item.properties : {},\r\n                gid: mode ? newGid : activeGid,\r\n                points: item.geometry.coordinates.map(coord => ({\r\n                    gid: mode ? newGid : activeGid,\r\n                    coordinates: coord\r\n                }))\r\n            }));\r\n            \r\n            let newAreas = geoAreas.map(item => ({\r\n                properties: item.properties ? item.properties : {},\r\n                gid: mode ? newGid : activeGid,\r\n                points: popFunction(item.geometry.coordinates.map(coord => ({\r\n                    gid: mode ? newGid : activeGid,\r\n                    coordinates: coord\r\n                })))\r\n            }));\r\n\r\n            if (mode) {\r\n                setGids([...gids, newGid]);\r\n            }\r\n            \r\n            let newMasterProps = {...masterProps};\r\n            newMasterProps[mode ? newGid : activeGid] = mprops;\r\n            setMasterProps(newMasterProps);\r\n            setPoints([...points, ...newPoints]);\r\n            setLines([...lines, ...newLines]);\r\n            setAreas([...areas, ...newAreas]);\r\n            toggleShowConfirm(true);\r\n\r\n        } catch (error) {\r\n            console.log(\"Invalid geoJSON object(s) entered\");\r\n        }\r\n        \r\n    };\r\n\r\n    const [showConfirm, toggleShowConfirm] = useState(false);\r\n\r\n    useEffect(() => {\r\n        if (showConfirm) {\r\n            setTimeout(() => {\r\n                toggleShowConfirm(false)\r\n            }, 3000);\r\n            setTimeout(() => {\r\n                toggleShowInline(false)\r\n            }, 5000);\r\n        }\r\n    }, [showConfirm, toggleShowInline]);\r\n\r\n    /*useEffect(() => {\r\n        document.getElementById(\"in-geojson\").addEventListener(\"paste\", e => {\r\n            e.preventDefault();\r\n            navigator.clipboard.readText().then(clipText => {\r\n                document.getElementById(\"in-geojson\").innerText = clipText;\r\n            });\r\n        });\r\n    });*/\r\n\r\n    return ( \r\n        <div className=\"form-container\">\r\n            <div style={{display: \"flex\"}}>\r\n                <p>Enter geoJSON from a remote source</p>\r\n                <p style={{color: \"red\", marginLeft: \"10px\"}}>BETA</p>\r\n            </div>\r\n            {showConfirm ? (\r\n                <p style={{color: \"rgb(30, 165, 17)\"}}>\r\n                    geoJSON accepted\r\n                </p>\r\n            ) : (null)}\r\n            <div contentEditable=\"true\" className=\"editable\" id=\"in-geojson\" \r\n            onFocus={() => {\r\n                navigator.clipboard.readText().then((clipText) => {\r\n                    document.getElementById(\"in-geojson\").innerText = clipText;\r\n                })\r\n            }}>\r\n            </div>\r\n            <div style={{display: \"flex\"}}>\r\n                <button className=\"rounded\" title=\"Insert to new group\" onClick={() => {\r\n                    try {\r\n                        axios.get(document.getElementById(\"in-geojson\").innerText).then((res) => {\r\n                            let data = res.data;\r\n                            toState(data, 1);\r\n                        })\r\n                      } catch (error) {\r\n                        console.log(\"GET failed with error\", error);\r\n                      }\r\n                }}>Insert</button>\r\n                <button className=\"rounded\" id=\"append\" style={{marginLeft: \"10px\"}} title=\"Append to active group\" onClick={() => {\r\n                    try {\r\n                        axios.get(document.getElementById(\"in-geojson\").innerText).then((res) => {\r\n                            let data = res.data;\r\n                            toState(data, 0);\r\n                        })\r\n                    } catch (error) {\r\n                    console.log(\"GET failed with error\", error);\r\n                    }\r\n                }}>Append</button>\r\n                <button className=\"rounded\" id=\"dReset\" title=\"Clear input\" style={{marginLeft: \"10px\"}} onClick={() => {\r\n                    document.getElementById(\"in-geojson\").innerText = \"\";\r\n                }}>Clear</button>\r\n            </div>\r\n        </div>\r\n     );\r\n}\r\n \r\nexport default Inline;","import React, { PureComponent } from 'react';\r\nimport uuid from 'react-uuid';\r\nimport CloseIcon from '../graphics/close.svg';\r\n\r\n\r\nclass ListPoints extends PureComponent {\r\n    state = {\r\n        page: 1\r\n    }\r\n    paginate = (selectedPoints, page) => {\r\n        let numPages = Math.ceil(selectedPoints.length / 20);\r\n        if (page < numPages) return selectedPoints.slice((page - 1) * 20, page * 20);\r\n        else return selectedPoints.slice((page - 1) * 20);\r\n    }\r\n    getPageArray = (selectedPoints) => {\r\n        let numPages = Math.ceil(selectedPoints.length / 20);\r\n        let pageArray = [];\r\n        for (let i = 1; i <= numPages; i++) {\r\n            pageArray.push(i);\r\n        }\r\n        return pageArray\r\n    }\r\n    render() {\r\n        const points = this.props.points;\r\n        const setPoints = this.props.setPoints;\r\n        const displayGid = this.props.displayGid;\r\n        let selectedPoints = displayGid ? points.filter(point => point.gid === displayGid) : points;\r\n        return ( \r\n            <div>\r\n                <div className=\"dlist\">\r\n                    {selectedPoints.length ? (\r\n                        this.paginate(selectedPoints, this.state.page).map((point) => (\r\n                            <div key={uuid()} style={{color: \"blue\", display: \"flex\", alignItems: \"baseline\"}}>\r\n                                <p>{`${selectedPoints.indexOf(point)+1}.  [${point.coordinates[1].toFixed(8)}, ${point.coordinates[0].toFixed(8)}]`}</p>\r\n                                <button className=\"blank\" title=\"Clear\" onClick={() => {\r\n                                    let index = points.indexOf(point);\r\n                                    let newPoints = points.slice();\r\n                                    if (index > -1) {\r\n                                        newPoints.splice(index, 1);\r\n                                        setPoints(newPoints);\r\n                                    }\r\n                                }}><img src={CloseIcon} alt=\"close\" width=\"12px\"></img></button>\r\n                            </div> \r\n                        )) \r\n                    ) : (null)}\r\n                </div>\r\n                {this.getPageArray(selectedPoints).length > 1 ? (\r\n                    <div className=\"paginate\">\r\n                        {this.getPageArray(selectedPoints).map(p => (\r\n                            <span className={p === this.state.page ? \"cspan\" : \"rspan\"} onClick={() => {\r\n                                this.setState({...this.state, page: p});\r\n                            }}>{p}</span>\r\n                        ))}\r\n                    </div>\r\n                ) : (null)}\r\n            </div>\r\n         );\r\n    }\r\n}\r\n \r\nexport default ListPoints;","import React, { useState } from 'react';\r\nimport uuid from 'react-uuid';\r\nimport CloseIcon from '../graphics/close.svg';\r\nimport ExpandIcon from '../graphics/expand.svg';\r\n\r\nconst Entity = ({ent, entities, setEntities, type}) => {\r\n\r\n    const [showContents, toggleShowContents] = useState(false);\r\n    let pts = ent.points;\r\n    return ( \r\n        <div key={uuid()}>\r\n            <div key={uuid()} style={{display: \"flex\", alignItems: \"baseline\", marginBottom: \"5px\", marginTop: \"5px\"}}>\r\n                <p>{`${entities.indexOf(ent)+1}. ${type === \"areas\" ? \"Polygon\" : \"LineString\"} ${entities.indexOf(ent)+1}`}</p>\r\n                <button className=\"blank\" title=\"Expand\" onClick={() => {\r\n                    toggleShowContents(!showContents);\r\n                }}><img src={ExpandIcon} alt=\"expand\" width=\"9px\"></img></button>\r\n                <button className=\"blank\" title=\"Clear\" onClick={() => {\r\n                    let index = entities.indexOf(ent);\r\n                    let newentities = entities.slice();\r\n                    if (index > -1) {\r\n                        newentities.splice(index, 1);\r\n                        setEntities(newentities);\r\n                    }\r\n                }}><img src={CloseIcon} alt=\"close\" width=\"12px\" style={{padding: \"0\"}}></img></button>\r\n            </div>\r\n            {showContents ? pts.map(pt => (\r\n                <div key={uuid()} style={{color: \"blue\", display: \"flex\", alignItems: \"baseline\", marginLeft: \"15px\"}}>\r\n                    <p>{`${pts.indexOf(pt)+1}.  [${pt.coordinates[1].toFixed(8)}, ${pt.coordinates[0].toFixed(8)}]`}</p>    \r\n                </div>\r\n            )) : null}\r\n        </div>\r\n     );\r\n}\r\n \r\nexport default Entity;","import React, { PureComponent } from 'react'\r\nimport uuid from 'react-uuid';\r\nimport Entity from './Entity';\r\n\r\nclass ListEntities extends PureComponent {\r\n    state = {\r\n        page: 1\r\n    }\r\n    paginate = (selectedPoints, page) => {\r\n        let numPages = Math.ceil(selectedPoints.length / 20);\r\n        if (page < numPages) return selectedPoints.slice((page - 1) * 20, page * 20);\r\n        else return selectedPoints.slice((page - 1) * 20);\r\n    }\r\n    getPageArray = (selectedPoints) => {\r\n        let numPages = Math.ceil(selectedPoints.length / 20);\r\n        let pageArray = [];\r\n        for (let i = 1; i <= numPages; i++) {\r\n            pageArray.push(i);\r\n        }\r\n        return pageArray\r\n    }\r\n    render() { \r\n        const entities = this.props.entities;\r\n        const setEntities = this.props.setEntities;\r\n        const type = this.props.type;\r\n        const displayGid = this.props.displayGid;\r\n        const selectedEntities = displayGid ? entities.filter(ent => ent.gid === displayGid) : entities;\r\n        return ( \r\n            <div>\r\n                <div className=\"dlist\">\r\n                    {this.paginate(selectedEntities, this.state.page).map(ent => (\r\n                        <Entity key={uuid()} type={type} entities={entities} setEntities={setEntities} ent={ent} />\r\n                    ))}\r\n                </div>\r\n                {this.getPageArray(selectedEntities).length > 1 ? (\r\n                    <div className=\"paginate\" style={{marginTop: \"5px\", marginBottom: \"5px\", height: \"30px\"}}>\r\n                        {this.getPageArray(selectedEntities).map(p => (\r\n                            <span className={p === this.state.page ? \"cspan\" : \"rspan\"} onClick={() => {\r\n                                this.setState({...this.state, page: p});\r\n                            }}>{p}</span>\r\n                        ))}\r\n                    </div>\r\n                ) : (null)}\r\n            </div>\r\n         );\r\n    }\r\n}\r\n \r\nexport default ListEntities;","import React, { useState, useEffect } from 'react';\r\nimport uuid from 'react-uuid';\r\n\r\nfunction convertProps(props) {\r\n    if (props) {\r\n        let keys = Object.keys(props);\r\n        let mprops = [];\r\n        if (keys.length) {\r\n            keys.forEach(key => {\r\n                mprops.push({\r\n                    key: key,\r\n                    value: props[key]\r\n                })\r\n            })\r\n        }\r\n        return mprops;\r\n    } else return [];\r\n}\r\n\r\nconst GroupTable = ({points, lines, areas, displayGid, masterProps, setMasterProps}) => {\r\n    const [metaProps, setMetaProps] = useState(masterProps[displayGid] ? convertProps(masterProps[displayGid]) : []);\r\n    const [showTable, toggleShowTable] = useState(true);\r\n    const [groupName, setGroupName] = useState(masterProps[displayGid] && masterProps[displayGid][\"Name\"] ? masterProps[displayGid][\"Name\"] : displayGid);\r\n\r\n    useEffect(() => {\r\n        setMetaProps(masterProps[displayGid] ? convertProps(masterProps[displayGid]) : []);\r\n        setGroupName(masterProps[displayGid] && masterProps[displayGid][\"Name\"] ? masterProps[displayGid][\"Name\"] : displayGid);\r\n    }, [masterProps, displayGid]);\r\n\r\n    return ( \r\n        <div>\r\n            <div className=\"options\" style={{marginBottom: 0, height: \"35px\"}}>\r\n                <div style={{width: \"100%\", display: \"flex\", justifyContent: \"space-between\", alignItems: \"baseline\"}}>\r\n                    <p style={{padding: \"none\"}}>Description</p>\r\n                    <div style={{display: \"flex\", float: \"right\"}}>\r\n                        <button className=\"group-button\" style={{marginRight: \"5px\"}} onClick={() => {\r\n                            toggleShowTable(!showTable);\r\n                        }}>{showTable ? \"Collapse\" : \"Expand\"}</button>\r\n                        <button className=\"group-button\" style={{marginRight: \"5px\", backgroundColor: \"rgb(0, 81, 255)\"}} title=\"Add a field\" onClick={() => {\r\n                            if (!showTable) toggleShowTable(true);\r\n                            setMetaProps([...metaProps, {\r\n                                key: \"\",\r\n                                value: \"\"\r\n                            }]);\r\n                        }}>Add</button>\r\n                        <button className=\"group-button\" style={{marginRight: \"5px\", backgroundColor: \"rgb(4, 142, 9)\"}} title=\"Confirm properties\" onClick={() => {\r\n                            let modProps = {};\r\n                            for (let prop of metaProps) {\r\n                                if (prop[\"key\"]) modProps[prop[\"key\"]] = prop[\"value\"]\r\n                            }\r\n                            let newMasterProps = {...masterProps};\r\n                            newMasterProps[displayGid] = modProps;\r\n                            if (groupName !== displayGid) {\r\n                                newMasterProps[displayGid][\"Name\"] = groupName;\r\n                            }\r\n                            setMasterProps(newMasterProps);\r\n                        }}>Set</button>\r\n                        <button className=\"group-button\" style={{backgroundColor: \"rgb(231, 7, 7)\"}} title=\"Clear group properties\" onClick={() => {\r\n                            let newMasterProps = {...masterProps};\r\n                            newMasterProps[displayGid] = {};\r\n                            setMasterProps(newMasterProps);\r\n                            setGroupName(displayGid);\r\n                        }}>Clear</button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            {showTable ? (\r\n                <div className=\"options\" style={{marginTop: \"-5px\"}}>\r\n                    <table className=\"gedit\">\r\n                        <thead>\r\n                            <tr>\r\n                                <td>Name</td>\r\n                                <td id=\"gname\" style={{color: \"rgb(9, 18, 99)\"}} contentEditable=\"true\" suppressContentEditableWarning=\"true\" onBlur={(e) => {\r\n                                    setGroupName(document.getElementById(\"gname\").innerText);\r\n                                }}>{groupName}</td>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            <tr>\r\n                                <td>Points</td>\r\n                                <td>{points.filter(point => point.gid === displayGid).length}</td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td>Lines</td>\r\n                                <td>{lines.filter(line => line.gid === displayGid).length}</td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td>Areas</td>\r\n                                <td>{areas.filter(area => area.gid === displayGid).length}</td>\r\n                            </tr>\r\n                            {masterProps[displayGid] && metaProps.map(mprop => (\r\n                                mprop[\"key\"] !== \"Name\" ? (\r\n                                    <tr key={uuid()}>\r\n                                        <td id={`meta_${metaProps.indexOf(mprop)}`} contentEditable=\"true\" suppressContentEditableWarning=\"true\" onBlur={(e) => {\r\n                                            mprop[\"key\"] = document.getElementById(`meta_${metaProps.indexOf(mprop)}`).innerText;\r\n                                        }}>{mprop[\"key\"]}</td>\r\n                                        <td id={`val_${metaProps.indexOf(mprop)}`} contentEditable=\"true\" suppressContentEditableWarning=\"true\" onBlur={(e) => {\r\n                                            mprop[\"value\"] = document.getElementById(`val_${metaProps.indexOf(mprop)}`).innerText;\r\n                                        }}>{mprop[\"value\"]}</td>\r\n                                    </tr>\r\n                                ) : (null)\r\n                            ))}\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            ) : (null)}\r\n        </div>\r\n    );\r\n}\r\n \r\nexport default GroupTable;","import React, { useState } from 'react';\r\nimport uuid from 'react-uuid';\r\nimport closeIcon from '../graphics/close.svg';\r\nimport infoIcon from '../graphics/information.svg';\r\nimport GroupTable from './GroupTable';\r\n\r\nconst Options = ({gids, setGids, activeGid, setActiveGid, \r\n    displayGid, setDisplayGid, \r\n    points, lines, areas, \r\n    setPoints, setLines, setAreas,\r\n    masterProps, setMasterProps}) => {\r\n\r\n    const elemCount = (gid) => {\r\n        let count = 0;\r\n        const fpoints = points.filter(point => point.gid === gid);\r\n        const flines = lines.filter(line => line.gid === gid);\r\n        const fareas = areas.filter(area => area.gid === gid);\r\n        count += fpoints.length;\r\n        for (const line of flines) count += line.points.length;\r\n        for (const area of fareas) count += area.points.length;\r\n        return count;\r\n    };\r\n\r\n    const getGroupName = (gid) => {\r\n        if (masterProps[gid] && masterProps[gid][\"Name\"]) return masterProps[gid][\"Name\"];\r\n        else return gid;\r\n    };\r\n\r\n    const rand = (guess) => {\r\n        if (gids.includes(guess)) {\r\n            const res = +guess.replace(\"Group \", \"\");\r\n            return rand(\"Group \" + (res + 1));\r\n        } else return guess;\r\n    };\r\n\r\n    const [showInfo, toggleShowInfo] = useState(false);\r\n\r\n    return ( \r\n        <div>\r\n            <div style={{display: \"flex\", alignItems: \"center\"}}>\r\n                {`Groups (${gids.length})`}\r\n                <div onMouseEnter={() => {\r\n                    toggleShowInfo(true);\r\n                }} onMouseLeave={() => {\r\n                    toggleShowInfo(false);\r\n                }}>\r\n                    <img src={infoIcon} alt=\"info\" width=\"12px\" style={{marginLeft: \"8px\"}}></img>\r\n                </div>\r\n            </div>\r\n            {showInfo ? (\r\n                <div style={{color: \"rgb(50, 50, 50)\", fontSize: \"12px\"}}>\r\n                    <i>Click on a group to make it active. Only the active group is rendered dynamically to the map.</i>\r\n                </div>\r\n            ) : (null)}\r\n            <div className=\"options\">\r\n                {gids.map(gid => (gid === displayGid) ? (\r\n                    <button key={uuid()} className=\"chip\" title=\"Active group\">\r\n                        {getGroupName(gid)}\r\n                        <div className=\"blank-no-padding\" title=\"Delete\" onClick={() => {\r\n                            let conf = window.confirm(`Delete ${gid} and all its contents?`);\r\n                            if (conf) {\r\n                                const newPoints = points.filter(point => point.gid !== gid);\r\n                                const newLines = lines.filter(line => line.gid !== gid);\r\n                                const newAreas = areas.filter(area => area.gid !== gid);\r\n                                const newGids = (gids.length > 1) ? gids.filter(id => id !== gid) : [\"Group 1\"];\r\n                                const newMasterProps = {...masterProps};\r\n                                delete newMasterProps[gid];\r\n                                setPoints(newPoints);\r\n                                setLines(newLines);\r\n                                setAreas(newAreas);\r\n                                setGids(newGids);\r\n                                setMasterProps(newMasterProps);\r\n                            }\r\n                        }}>\r\n                            <img src={closeIcon} alt=\"close\" width=\"12px\" style={{marginLeft: \"10px\"}}></img>\r\n                        </div>\r\n                    </button>\r\n                ) : (elemCount(gid) < 1000 ? (\r\n                    <button key={uuid()} className=\"inactive-chip\" title=\"Inactive group\" onClick={(e) => {\r\n                        setDisplayGid(gid);\r\n                        setActiveGid(gid);\r\n                    }}>\r\n                        {getGroupName(gid)}\r\n                        <div className=\"blank\" title=\"Delete\" onClick={() => {\r\n                            let conf = window.confirm(`Delete ${getGroupName(gid)} and all its contents?`);\r\n                            if (conf) {\r\n                                const newPoints = points.filter(point => point.gid !== gid);\r\n                                const newLines = lines.filter(line => line.gid !== gid);\r\n                                const newAreas = areas.filter(area => area.gid !== gid);\r\n                                const newGids = (gids.length > 1) ? gids.filter(id => id !== gid) : [\"Group 1\"];\r\n                                const newMasterProps = {...masterProps};\r\n                                delete newMasterProps[gid];\r\n                                setPoints(newPoints);\r\n                                setLines(newLines);\r\n                                setAreas(newAreas);\r\n                                setGids(newGids);\r\n                                setMasterProps(newMasterProps);\r\n                            }\r\n                        }}>\r\n                            <img src={closeIcon} alt=\"close\" width=\"12px\" style={{marginLeft: \"10px\"}}></img>\r\n                        </div>\r\n                    </button>\r\n                ) : (\r\n                    <button key={uuid()} className=\"static-chip\" title=\"Static group\" onClick={(e) => {\r\n                        setDisplayGid(gid);\r\n                    }}>\r\n                        {getGroupName(gid)}\r\n                        <div className=\"blank\" title=\"Delete\" onClick={() => {\r\n                            let conf = window.confirm(`Delete ${getGroupName(gid)} and all its contents?`);\r\n                            if (conf) {\r\n                                const newPoints = points.filter(point => point.gid !== gid);\r\n                                const newLines = lines.filter(line => line.gid !== gid);\r\n                                const newAreas = areas.filter(area => area.gid !== gid);\r\n                                const newGids = (gids.length > 1) ? gids.filter(id => id !== gid) : [\"Group 1\"];\r\n                                const newMasterProps = {...masterProps};\r\n                                delete newMasterProps[gid];\r\n                                setPoints(newPoints);\r\n                                setLines(newLines);\r\n                                setAreas(newAreas);\r\n                                setGids(newGids);\r\n                                setMasterProps(newMasterProps);\r\n                            }\r\n                        }}>\r\n                            <img src={closeIcon} alt=\"close\" width=\"12px\" style={{marginLeft: \"10px\"}}></img>\r\n                        </div>\r\n                    </button>\r\n                )\r\n                ))}\r\n                \r\n            </div>\r\n            <GroupTable points={points} lines={lines} areas={areas} displayGid={displayGid} masterProps={masterProps} setMasterProps={setMasterProps} />\r\n            <div style={{display: \"flex\"}}>\r\n                <button className=\"rounded\" title=\"Add a new group\" onClick={() => {\r\n                    const defaultGid = \"Group \" + (gids.length + 1);\r\n                    setGids([...gids, rand(defaultGid)]);\r\n                }}>New</button>\r\n                <button className=\"rounded\" id=\"compress\" title=\"Remove empty groups\" onClick={() => {\r\n                    const conf = window.confirm(\"Delete all empty groups?\");\r\n                    if (conf) {\r\n                        const filledGroups = gids.filter(gid => elemCount(gid) > 0);\r\n                        const emptyGroups = gids.filter(gid => elemCount(gid) === 0);\r\n                        for (let grp of emptyGroups) delete masterProps[grp];\r\n                        if (filledGroups.length > 0) {\r\n                            setGids(filledGroups);\r\n                            let lastGroup = filledGroups[filledGroups.length - 1];\r\n                            setDisplayGid(lastGroup);\r\n                            if (elemCount(lastGroup) < 1000) setActiveGid(lastGroup);\r\n                        } else {\r\n                            setActiveGid(\"Group 1\");\r\n                            setDisplayGid(\"Group 1\");\r\n                            setGids([\"Group 1\"]);\r\n                            setMasterProps({\"Group 1\": {}});\r\n                        }\r\n                    }\r\n                }}>Compress</button>\r\n                <button className=\"rounded\" id=\"dReset\" title=\"Reset groups\" onClick={() => {\r\n                    const conf = window.confirm(\"Reset all groups and their contents?\");\r\n                    if (conf) {\r\n                        setPoints([]);\r\n                        setLines([]);\r\n                        setAreas([]);\r\n                        setActiveGid(\"Group 1\");\r\n                        setDisplayGid(\"Group 1\");\r\n                        setGids([\"Group 1\"]);\r\n                        setMasterProps({\"Group 1\": {}});\r\n                    }\r\n                }}>Reset</button>\r\n            </div>\r\n        </div>\r\n     );\r\n}\r\n \r\nexport default Options;","import React, { useState } from 'react';\r\nimport Menu from '../graphics/menu.svg';\r\nimport Indicator1 from '../graphics/indicator1.svg';\r\nimport Indicator2 from '../graphics/indicator2.svg';\r\nimport Indicator3 from '../graphics/indicator3.svg';\r\nimport Inline from './Inline';\r\nimport ListPoints from './ListPoints';\r\nimport ListEntities from './ListEntities';\r\nimport Options from './Options';\r\n\r\nconst Sidebar = ({points, setPoints, \r\n    lines, setLines, \r\n    areas, setAreas, \r\n    toggleShowInput, toggleShowOutput, \r\n    showSidebar, toggleShowSidebar, \r\n    showSnap, toggleShowSnap, \r\n    activeGid, setActiveGid,\r\n    displayGid, setDisplayGid,\r\n    gids, setGids,\r\n    masterProps, setMasterProps}) => {\r\n    \r\n    const [showInline, toggleShowInline] = useState(false);\r\n    \r\n    const style = {\r\n        width: \"384px\",\r\n        minWidth: \"384px\",\r\n        height: \"100%\",\r\n        position: \"absolute\",\r\n        top: \"0\",\r\n        left: \"0\",\r\n        backgroundColor: \"rgb(3, 11, 26)\",\r\n        overflowY: \"auto\",\r\n        zIndex: \"1000\"\r\n    };\r\n\r\n    const validateField = (lat, lng) => {\r\n        if (lat === \"\" || lng === \"\") {\r\n            return false;\r\n        }\r\n        let isValid = (!isNaN(lat) && !isNaN(lng) && Math.abs(+lat) <= 90.0 && Math.abs(+lng) <= 180.0) ? true : false;\r\n        return isValid\r\n    };\r\n\r\n     const form = () => {\r\n        return (\r\n            <form onSubmit={(e) => {\r\n                e.preventDefault();\r\n                const cds = e.target.elements[0].value.split(',')\r\n                if (validateField(cds[0], cds[1])) {\r\n                    let newPoint = {\r\n                        gid: activeGid,\r\n                        name: `P${points.length+1}`,\r\n                        coordinates: [Number(cds[1]), Number(cds[0])]\r\n                    }\r\n                    setPoints([...points, newPoint]);\r\n                    e.target.reset()\r\n                } else {\r\n                    alert(\"Enter valid coordinates in input field!\");\r\n                }\r\n            }}>\r\n                <label style={{fontSize: \"20px\", marginLeft: \"0\", marginRight: \"5px\"}}><b>+</b></label>\r\n                <input id=\"coords\" type=\"text\" placeholder=\"<Latitude>, <Longitude>\" autoComplete=\"off\"></input>\r\n                <div style={{display: \"flex\"}}>\r\n                    <button className=\"rounded\" type=\"submit\">Add</button>\r\n                    <button className=\"rounded\" id=\"dReset\" title=\"Reset Points\" onClick={(e) => {\r\n                        e.preventDefault();\r\n                        const fpoints = points.filter(point => point.gid !== displayGid);\r\n                        if (points.length > fpoints.length) {\r\n                            const conf = window.confirm(\"Delete all points from active group?\");\r\n                            if (conf) {\r\n                                setPoints(fpoints);\r\n                            }\r\n                        }\r\n                    }}>Reset</button>\r\n                </div>\r\n            </form>\r\n        )\r\n    };\r\n    return (\r\n        <div id=\"sidebar\" style={style}>\r\n            <div style={{display: \"flex\", fontFamily: \"Comfortaa\", color: \"white\"}}>\r\n                <div>\r\n                    <h1>descartes v2.0</h1>\r\n                </div>\r\n                <div style={{display: \"flex\", alignItems: \"center\", float: \"right\"}}>\r\n                    <button className=\"collapse\" title={showSidebar ? \"collapse\" : \"expand\"} onClick={() => {toggleShowSidebar(!showSidebar)}}>\r\n                        <img src={Menu} alt=\"Menu\" width=\"14px\"></img>\r\n                    </button>\r\n                </div>\r\n            </div>\r\n            <div className=\"form-container\">\r\n                <Options gids={gids} setGids={setGids} \r\n                activeGid={activeGid} setActiveGid={setActiveGid} \r\n                displayGid={displayGid} setDisplayGid={setDisplayGid} \r\n                points={points} lines={lines} areas={areas}\r\n                setPoints={setPoints} setLines={setLines} setAreas={setAreas} \r\n                masterProps={masterProps} setMasterProps={setMasterProps} />\r\n            </div>\r\n            <div className=\"form-container\">\r\n                <button className=\"rounded\" id=\"utils\" title=\"Input geoJSON\" onClick={() => {\r\n                    toggleShowInput(true);\r\n                }}>Input</button>\r\n                <button className=\"rounded\" id=\"utils\" title=\"Output geoJSON\" style={{marginLeft: \"10px\"}} onClick={() => {\r\n                    toggleShowOutput(true);\r\n                }}>Output</button>\r\n                <button className=\"rounded\" id=\"utils\" title=\"Remote geoJSON\" style={{marginLeft: \"10px\"}} onClick={() => {\r\n                    toggleShowInline(!showInline);\r\n                }}>Remote</button>\r\n            </div>\r\n            {showInline ? (\r\n                <Inline \r\n                points={points} setPoints={setPoints} \r\n                lines={lines} setLines={setLines} \r\n                areas={areas} setAreas={setAreas} \r\n                toggleShowInline={toggleShowInline} activeGid={activeGid} \r\n                gids={gids} setGids={setGids} \r\n                masterProps={masterProps} setMasterProps={setMasterProps} />\r\n            ) : (null)}\r\n            <div className=\"form-container\">\r\n                <div style={{display: \"flex\", alignItems: \"baseline\"}}>\r\n                    <p>{`Points (${points.filter(point => point.gid === displayGid).length})`}</p>\r\n                    <img src={Indicator1} alt=\"i1\" width=\"10px\" style={{marginLeft: \"6px\"}}/>\r\n                </div>\r\n                <ListPoints points={points} setPoints={setPoints} displayGid={displayGid} />\r\n                {form()}\r\n\r\n            </div>\r\n            <div className=\"form-container\">\r\n                <div style={{display: \"flex\", alignItems: \"baseline\"}}>\r\n                    <p>{`Lines (${lines.filter(line => line.gid === displayGid).length})`}</p>\r\n                    <img src={Indicator2} alt=\"i2\" height=\"10px\" style={{marginLeft: \"6px\"}}/>\r\n                </div>\r\n                <ListEntities entities={lines} setEntities={setLines} displayGid={displayGid} type={\"lines\"} />\r\n                <button className=\"rounded\" id=\"snap\" title=\"Snap to road\" style={{marginLeft: \"0\"}} onClick={() => {toggleShowSnap(true)}}>Snap</button>\r\n                <button className=\"rounded\" id=\"dReset\" title=\"Reset Lines\" style={{marginLeft: \"10px\"}} onClick={(e) => {\r\n                    e.preventDefault();\r\n                    const flines = lines.filter(line => line.gid !== displayGid);\r\n                    if (lines.length > flines.length) {\r\n                        const conf = window.confirm(\"Delete all lines from active group?\");\r\n                        if (conf) {\r\n                            setLines(flines);\r\n                        }\r\n                    }\r\n                }}>Reset</button>\r\n            </div>\r\n            <div className=\"form-container\">\r\n                <div style={{display: \"flex\", alignItems: \"center\"}}>\r\n                    <p>{`Areas (${areas.filter(area => area.gid === displayGid).length})`}</p>\r\n                    <img src={Indicator3} alt=\"i3\" width=\"30px\" style={{marginLeft: \"6px\"}} />\r\n                </div>\r\n                <ListEntities entities={areas} setEntities={setAreas} displayGid={displayGid} type={\"areas\"} />\r\n                <button className=\"rounded\" id=\"dReset\" title=\"Reset Lines\" style={{marginLeft: \"0\"}} onClick={(e) => {\r\n                    e.preventDefault();\r\n                    const fareas = areas.filter(area => area.gid !== displayGid);\r\n                    if (areas.length > fareas.length) {\r\n                        const conf = window.confirm(\"Delete all polygons from active group?\");\r\n                        if (conf) {\r\n                            setAreas(fareas);\r\n                        }\r\n                    }\r\n                }}>Reset</button>\r\n            </div>\r\n            \r\n        </div>\r\n    );\r\n}\r\n \r\nexport default Sidebar;\r\n","import React, { useState } from 'react';\r\nimport closeIcon from '../graphics/close.svg';\r\nimport uuid from 'react-uuid';\r\n\r\n\r\nconst Output = ({showOutput, toggleShowOutput, points, lines, areas, gids, activeGid, masterProps}) => {\r\n\r\n    \r\n    const [showConfirm, toggleShowConfirm] = useState(false);\r\n    const [selectedGroup, setSelectedGroup] = useState(activeGid);\r\n\r\n    const getGroupName = (gid) => {\r\n        if (masterProps[gid] && masterProps[gid][\"Name\"]) return masterProps[gid][\"Name\"];\r\n        else return gid;\r\n    };\r\n\r\n    let fpoints = selectedGroup === \"All\" ? points : points.filter(point => point.gid === selectedGroup);\r\n    let flines = selectedGroup === \"All\" ? lines : lines.filter(line => line.gid === selectedGroup);\r\n    let fareas = selectedGroup === \"All\" ? areas : areas.filter(area => area.gid === selectedGroup);\r\n\r\n    const toGeojson = (fpoints, flines, fareas) => {\r\n        let geoPoints = fpoints.map(point => ({\r\n            type: \"Feature\",\r\n            properties: point.properties ? point.properties : {},\r\n            geometry: {\r\n                type: \"Point\",\r\n                coordinates: point.coordinates\r\n            }    \r\n        }));\r\n        let geoLines = flines.map(line => ({\r\n            type: \"Feature\",\r\n            properties: line.properties ? line.properties : {},\r\n            geometry: {\r\n                type: \"LineString\",\r\n                coordinates: line.points.map(point => point.coordinates)\r\n            }\r\n        }));\r\n        let geoAreas = fareas.map(area => ({\r\n            type: \"Feature\",\r\n            properties: area.properties ? area.properties : {},\r\n            geometry: {\r\n                type: \"Polygon\",\r\n                coordinates: [area.points.map(point => point.coordinates).concat([area.points[0].coordinates])]\r\n            }\r\n        }));\r\n        let features = geoPoints.concat(geoLines, geoAreas);\r\n        let geoObj = {\r\n            type: \"FeatureCollection\",\r\n            properties: selectedGroup === \"All\" ? masterProps : (masterProps[selectedGroup] || {}),\r\n            features: features\r\n        };\r\n        let stringifiedGeoObj = JSON.stringify(geoObj, undefined, 2);\r\n        return stringifiedGeoObj;\r\n    };\r\n    \r\n    return (\r\n        <div className=\"output\">\r\n            <div className=\"form-container\" id=\"output\">\r\n                <div style={{display: \"flex\", width: \"100%\", position: \"relative\"}}>\r\n                    <p>GeoJSON Output</p>\r\n                    {showConfirm ? (\r\n                        <p style={{color: \"rgb(30, 165, 17)\", marginLeft: \"12px\"}}>\r\n                            Copied to clipboard\r\n                        </p>\r\n                    ) : (null)}\r\n                    <button className=\"blank\" id=\"close\" title=\"close\" onClick={() => {\r\n                        toggleShowOutput(false);\r\n                    }}>\r\n                        <img src={closeIcon} alt=\"close\" width=\"15px\"></img>\r\n                    </button>\r\n                </div>\r\n                <div style={{color: \"rgb(50, 50, 50)\"}}>\r\n                    {`${fpoints.length} points, ${flines.length} lines, ${fareas.length} polygons`}\r\n                </div>\r\n                <select onChange={(e) => {\r\n                    if (e.target.value) setSelectedGroup(e.target.value);\r\n                }} value={selectedGroup}>\r\n                    {gids.map(gid => (\r\n                        <option key={uuid()} value={gid}>{getGroupName(gid)}</option>\r\n                    ))}\r\n                    <option key={uuid()}>All</option>\r\n                </select>\r\n                <div id=\"output-coords\">\r\n                    <pre id=\"out-geojson\" contentEditable=\"true\" suppressContentEditableWarning={true} style={{outline: \"none\"}}>\r\n                        {toGeojson(fpoints, flines, fareas)}\r\n                    </pre>\r\n                </div>\r\n                <div style={{display: \"flex\"}}>\r\n                    <button className=\"rounded\" id=\"copy\" title=\"copy\" onClick={() => {\r\n                        let outElem = document.getElementById(\"out-geojson\");\r\n                        let outText = outElem.textContent;\r\n                        navigator.clipboard.writeText(outText)\r\n                        .then(() => {\r\n                            toggleShowConfirm(true);\r\n                        })\r\n                        .then(() => {\r\n                            setTimeout(() => {toggleShowConfirm(false)}, 5000);\r\n                        });\r\n                    }}>Copy</button>\r\n                    <button className=\"rounded\" style={{marginLeft: \"10px\"}} onClick={() => {\r\n                        let outElem = document.getElementById(\"out-geojson\");\r\n                        outElem.textContent = toGeojson(fpoints, flines, fareas);\r\n                    }}>Regenerate</button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n \r\nexport default Output;\r\n","import React from 'react';\r\nimport MainImage from '../graphics/descartes_big.svg';\r\nimport Github from '../graphics/github.png';\r\nimport Instagram from '../graphics/instagram.png';\r\nimport Linkedin from '../graphics/linkedin.png';\r\nimport Nawgati from '../graphics/plogo.svg';\r\n\r\n\r\nconst Landing = ({showLanding, toggleShowLanding}) => {\r\n    let rev = !showLanding;\r\n    return ( \r\n        <div className=\"landing\">\r\n            <div className=\"view\" id=\"intro\">\r\n                <h1>descartes v2.0</h1>\r\n                <h2>A simple map-marking tool, developed by the team at <strong><a href=\"https://www.nawgati.com/\">Nawgati</a></strong></h2>\r\n                <div className=\"social\">\r\n                    <a href=\"https://www.nawgati.com/\" title=\"Nawgati\"><img src={Nawgati} alt=\"Nawgati\" height=\"20px\"></img></a>\r\n                    <a href=\"https://github.com/nawgati/\"><img src={Github} className=\"bottom-icon\" alt=\"github\" width=\"20px\"></img></a>\r\n                    <a href=\"https://www.linkedin.com/company/nawgati\"><img src={Linkedin} className=\"bottom-icon\" alt=\"linkedin\" width=\"20px\"></img></a>\r\n                    <a href=\"https://www.instagram.com/nawgati/\"><img src={Instagram} className=\"bottom-icon\" alt=\"instagram\" width=\"20px\"></img></a>\r\n                </div>\r\n            </div>\r\n            <div className=\"view\" id=\"hero\">\r\n                <img src={MainImage} alt=\"main\" title=\"Descartes\" width=\"100%\"></img>\r\n                <div id=\"btn-grp\">\r\n                    <button className=\"rounded\" id=\"proceed\" onClick={() => {\r\n                        setTimeout(toggleShowLanding(false), 1000);\r\n                    }}>Proceed</button>\r\n                </div>\r\n                <div style={{marginTop: \"40px\", display: \"flex\", color: \"white\", justifyContent: \"center\", alignItems: \"center\"}}>\r\n                    <input type=\"checkbox\" id=\"ch\" onChange={() => {\r\n                        localStorage.setItem(\"showLanding\", JSON.stringify(rev));\r\n                        rev = !rev;\r\n                    }}></input>\r\n                    <label>Skip this page the next time</label>\r\n                </div>\r\n            </div>\r\n        </div>\r\n     );\r\n}\r\n \r\nexport default Landing;","import React, { useState } from 'react';\r\nimport closeIcon from '../graphics/close.svg';\r\nimport uuid from 'react-uuid';\r\n//import axios from 'axios';\r\n\r\n\r\n\r\n\r\nconst SnapMenu = ({showSnap, toggleShowSnap, lines, setLines, tempMarks, setTempMarks, activeGid}) => {\r\n\r\n    const reverseLine = (line) => {\r\n        let revPts = line.points.slice();\r\n        revPts.reverse();\r\n        return ({\r\n            gid: line.gid,\r\n            points: revPts\r\n        })\r\n    };\r\n\r\n    const [index, setIndex] = useState(null);\r\n\r\n    const snapCoords = (line) => {\r\n        window.alert(\"Snap functionality is temporarily disabled\");\r\n        /*let inputPoints = line.points.map(pt => pt.coordinates);\r\n        let pathArr = inputPoints.map(item => String(item[1] + \",\" + item[0]));\r\n        let path = pathArr.join(\"|\");\r\n        try {\r\n            axios.get(`https://roads.googleapis.com/v1/snapToRoads?path=${path}&key=AIzaSyCyX-H1_PMVUFTL1Cv4wWwj6CN1U3mWtDc`)\r\n            .then((res) => {\r\n                let snappedCoords = res.data.snappedPoints;\r\n                snappedCoords = snappedCoords.map(coord => ({\r\n                    gid: activeGid,\r\n                    coordinates: [coord.location.longitude, coord.location.latitude]\r\n                }))\r\n                setTempMarks(snappedCoords);\r\n                               \r\n            })\r\n        }\r\n        catch(err) {\r\n            alert(\"Error occurred while snapping\");\r\n        }*/\r\n    };\r\n    \r\n    return ( \r\n        <div className=\"form-container\" id=\"snap-menu\">\r\n            <div style={{display: \"flex\", width: \"100%\", position: \"relative\", marginBottom: \"15px\"}}>\r\n                <strong><p>Snap a line to the nearest road</p></strong>\r\n                <button className=\"blank\" id=\"close\" title=\"Close\" onClick={() => {\r\n                    setTempMarks([]);\r\n                    toggleShowSnap(false);\r\n                }}>\r\n                    <img src={closeIcon} alt=\"close\" width=\"15px\"></img>\r\n                </button>\r\n            </div>\r\n            <div className=\"dlist\">\r\n                {lines.filter(line => line.gid === activeGid).map(line => {\r\n                    let pts = line.points;\r\n                    return (\r\n                        <div key={uuid()}>\r\n                            <div key={uuid()} style={{display: \"flex\", alignItems: \"center\", marginBottom: \"5px\", marginTop: \"5px\"}}>\r\n                                <label style={{margin: 0}}>{`LineString ${lines.indexOf(line)+1}`}</label>\r\n                                <input id=\"radio\" name=\"radio\" type=\"radio\" value={`${lines.indexOf(line)}`} />\r\n                            </div>\r\n                            {pts.map(pt => (\r\n                                <div key={uuid()} style={{color: \"blue\", display: \"flex\", alignItems: \"baseline\", marginLeft: \"15px\"}}>\r\n                                    <p>{`${pts.indexOf(pt)+1}.  [${pt.coordinates[1].toFixed(8)}, ${pt.coordinates[0].toFixed(8)}]`}</p>    \r\n                                </div>\r\n                            ))}\r\n                        </div>\r\n                    )\r\n                })}\r\n            </div>\r\n            <button className=\"rounded\" id=\"snap-ext\" title=\"Snap line\" style={{marginLeft: 0}} onClick={(e) => {\r\n                e.preventDefault();\r\n                let s = document.querySelector('input[name=\"radio\"]:checked') ? document.querySelector('input[name=\"radio\"]:checked').value : null;\r\n                if (s) {\r\n                    setIndex(s);\r\n                    snapCoords(lines[s]);\r\n                }\r\n            }}>Snap</button>\r\n            <button className=\"rounded\" id=\"snap-ext\" title=\"Reverse line and snap\" onClick={(e) => {\r\n                e.preventDefault();\r\n                let s = document.querySelector('input[name=\"radio\"]:checked') ? document.querySelector('input[name=\"radio\"]:checked').value : null;\r\n                if (s) {\r\n                    setIndex(s);\r\n                    snapCoords(reverseLine(lines[s]));\r\n                }\r\n            }}>Reverse snap</button>\r\n            <button className=\"rounded\" id=\"snap-ext\" title=\"Apply change\" onClick={(e) => {\r\n                e.preventDefault();\r\n                if (index && tempMarks.length) {\r\n                    let modLines = [...lines];\r\n                    modLines.splice(index, 1, {\r\n                        gid: activeGid,\r\n                        points: tempMarks\r\n                    });\r\n                    setLines(modLines);\r\n                }\r\n            }}>Apply</button>\r\n        </div>\r\n     );\r\n}\r\n \r\nexport default SnapMenu;\r\n","import React, { useState, useEffect } from 'react';\r\nimport closeIcon from '../graphics/close.svg';\r\n\r\n\r\nconst Input = ({showInput, toggleShowInput, \r\n    points, lines, areas, \r\n    setPoints, setLines, setAreas, \r\n    gids, setGids, activeGid, \r\n    masterProps, setMasterProps}) => {\r\n\r\n\r\n    const [showConfirm, toggleShowConfirm] = useState(false);\r\n\r\n    const popFunction = (arr) => {\r\n        let newArr = [...arr];\r\n        newArr.pop()\r\n        return newArr\r\n    };\r\n\r\n    const elemCount = (points, lines, areas) => {\r\n        let count = 0;\r\n        count += points.length;\r\n        for (const line of lines) count += line.geometry.coordinates.length;\r\n        for (const area of areas) count += area.geometry.coordinates.length;\r\n        return count;\r\n    };\r\n\r\n    const rand = (guess) => {\r\n        if (gids.includes(guess)) {\r\n            const res = +guess.replace(\"Group \", \"\");\r\n            return rand(\"Group \" + (res + 1));\r\n        } else return guess;\r\n    };\r\n\r\n    const toState = (geojson, mode) => {\r\n        let newGid = \"Group \" + (gids.length + 1);\r\n        newGid = rand(newGid);\r\n        try {\r\n            let features = geojson.features;\r\n            let mprops = geojson.properties || {};\r\n            let geoPoints = features.filter(item => item.geometry.type === \"Point\");\r\n            let geoLines = features.filter(item => item.geometry.type === \"LineString\");\r\n            let geoAreas = features.filter(item => item.geometry.type === \"Polygon\");\r\n            geoAreas = geoAreas.map(geoArea => ({...geoArea, geometry: {\r\n                type: \"Polygon\",\r\n                coordinates: geoArea.geometry.coordinates[0]\r\n            }}));\r\n\r\n            if (elemCount(geoPoints, geoLines, geoAreas) > 1000) {\r\n                alert(\"Warning: Heavy dataset loaded. This will be rendered as static geoJSON in a separate group.\");\r\n                mode = 1;\r\n            }\r\n\r\n            let newPoints = geoPoints.map(item => ({\r\n                properties: item.properties ? item.properties : {},\r\n                gid: mode ? newGid : activeGid,\r\n                coordinates: item.geometry.coordinates\r\n            }));\r\n\r\n            let newLines = geoLines.map(item => ({\r\n                properties: item.properties ? item.properties : {},\r\n                gid: mode ? newGid : activeGid,\r\n                points: item.geometry.coordinates.map(coord => ({\r\n                    gid: mode ? newGid : activeGid,\r\n                    coordinates: coord\r\n                }))\r\n            }));\r\n            \r\n            let newAreas = geoAreas.map(item => ({\r\n                properties: item.properties ? item.properties : {},\r\n                gid: mode ? newGid : activeGid,\r\n                points: popFunction(item.geometry.coordinates.map(coord => ({\r\n                    gid: mode ? newGid : activeGid,\r\n                    coordinates: coord\r\n                })))\r\n            }));\r\n\r\n            if (mode) {\r\n                setGids([...gids, newGid]);\r\n            }\r\n            let newMasterProps = {...masterProps};\r\n            newMasterProps[mode ? newGid : activeGid] = mprops;\r\n            setMasterProps(newMasterProps);\r\n            setPoints([...points, ...newPoints]);\r\n            setLines([...lines, ...newLines]);\r\n            setAreas([...areas, ...newAreas]);\r\n            toggleShowConfirm(true);\r\n\r\n        } catch (error) {\r\n            console.log(\"Invalid geoJSON object(s) entered\");\r\n        }\r\n        \r\n    };\r\n\r\n    useEffect(() => {\r\n        if (showConfirm) {\r\n            setTimeout(() => {\r\n                toggleShowConfirm(false)\r\n            }, 5000);\r\n        }\r\n    }, [showConfirm]);\r\n    \r\n    return (\r\n        <div className=\"output\">\r\n            <div className=\"form-container\" id=\"output\">\r\n                <div style={{display: \"flex\", width: \"100%\", position: \"relative\"}}>\r\n                    <p>GeoJSON Input</p>\r\n                    {showConfirm ? (\r\n                        <p style={{color: \"rgb(30, 165, 17)\", marginLeft: \"12px\"}}>\r\n                            geoJSON accepted\r\n                        </p>\r\n                    ) : (null)}\r\n                    <button className=\"blank\" id=\"close\" title=\"close\" onClick={() => {\r\n                        toggleShowInput(false);\r\n                    }}>\r\n                        <img src={closeIcon} alt=\"close\" width=\"15px\"></img>\r\n                    </button>\r\n                </div>\r\n                <div id=\"output-coords\">\r\n                    <pre id=\"out-geojson\" contentEditable=\"true\" style={{outline: \"none\", minHeight: \"30px\"}} onFocus={() => {\r\n                        navigator.clipboard.readText().then((clipText) => {\r\n                            document.getElementById(\"out-geojson\").innerText = clipText;\r\n                        })\r\n                    }}>\r\n                    </pre>\r\n                </div>\r\n                <div style={{display: \"flex\"}}>\r\n                    <button className=\"rounded\" id=\"copy\" title=\"Insert to new group\" onClick={() => {\r\n                        let txt = document.getElementById(\"out-geojson\").innerText;\r\n                        if (txt) {\r\n                            try {\r\n                                let geojson = JSON.parse(txt);\r\n                                toState(geojson, 1);\r\n                            } catch (error) {\r\n                                alert(\"Invalid JSON in input field!\");\r\n                            }\r\n                        }\r\n                        \r\n                    }}>Insert</button>\r\n                    <button className=\"rounded\" id=\"append\" style={{marginLeft: \"10px\"}} title=\"Append to active group\" onClick={() => {\r\n                        let txt = document.getElementById(\"out-geojson\").innerText;\r\n                        if (txt) {\r\n                            try {\r\n                                let geojson = JSON.parse(txt);\r\n                                toState(geojson, 0);\r\n                            } catch (error) {\r\n                                alert(\"Invalid JSON in input field!\");\r\n                            }\r\n                        }\r\n                        \r\n                    }}>Append</button>\r\n                    <button className=\"rounded\" id=\"dReset\" title=\"Clear input\" style={{marginLeft: \"10px\"}} onClick={() => {\r\n                        document.getElementById(\"out-geojson\").innerText = \"\";\r\n                    }}>Clear</button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n \r\nexport default Input;\r\n","import React, { useState, useEffect } from 'react';\r\nimport Map from './components/Map';\r\nimport Sidebar from './components/Sidebar';\r\nimport Output from './components/Output';\r\nimport Landing from './components/Landing';\r\nimport SnapMenu from './components/SnapMenu';\r\nimport Menu from './graphics/menu.svg';\r\nimport Input from './components/Input';\r\n\r\n\r\n\r\nconst App = () => {\r\n\r\n  const style = {\r\n    display: \"flex\",\r\n    position: \"relative\",\r\n    flexWrap: \"nowrap\",\r\n    width: \"100vw\",\r\n    height: window.innerHeight\r\n  };\r\n  \r\n  const init = JSON.parse(localStorage.getItem(\"sessionData\"));\r\n\r\n  const onUnloadSave = () => {\r\n    const item = {\r\n      points: points, \r\n      lines: lines,\r\n      areas: areas,\r\n      gids: gids,\r\n      activeGid: activeGid,\r\n      masterProps: masterProps\r\n    };\r\n    localStorage.setItem(\"sessionData\", JSON.stringify(item));\r\n    sessionStorage.setItem(\"showLanding\", JSON.stringify(showLanding));\r\n  };\r\n\r\n  useEffect(() => {\r\n    window.addEventListener(\"beforeunload\", onUnloadSave);\r\n  });\r\n\r\n  const defaultCentre = {\r\n    gid: \"Group 1\",\r\n    coordinates: [77.516233, 28.494164]\r\n  };\r\n\r\n  const defaultLine = {\r\n    gid: \"Group 1\",\r\n    points: [\r\n      {\r\n        gid: \"Group 1\",\r\n        coordinates: [77.536233, 28.494164]\r\n      },\r\n      {\r\n        gid: \"Group 1\",\r\n        coordinates: [77.556233, 28.494164]\r\n      },\r\n      {\r\n        gid: \"Group 1\",\r\n        coordinates: [77.546233, 28.492164]\r\n      }\r\n    ]\r\n  };\r\n\r\n  const defaultArea = {\r\n    gid: \"Group 1\",\r\n    points: [\r\n      {\r\n        gid: \"Group 1\",\r\n        coordinates: [77.53133700, 28.50721867]\r\n      },\r\n      {\r\n        gid: \"Group 1\",\r\n        coordinates: [77.53786711, 28.50213750]\r\n      },\r\n      {\r\n        gid: \"Group 1\",\r\n        coordinates: [77.53892413, 28.51272691]\r\n      },\r\n      {\r\n        gid: \"Group 1\",\r\n        coordinates: [77.53150213, 28.51518115]\r\n      } \r\n    ]\r\n  }\r\n\r\n  const [points, setPoints] = useState((init && init.points && init.points.length) ? init.points : [defaultCentre]);\r\n  const [lines, setLines] = useState((init && init.lines) ? init.lines : [defaultLine]);\r\n  const [areas, setAreas] = useState((init && init.areas) ? init.areas : [defaultArea]);\r\n  const [showOutput, toggleShowOutput] = useState(false);\r\n  const [showInput, toggleShowInput] = useState(false);\r\n  const [showSidebar, toggleShowSidebar] = useState(window.innerWidth > 1000 ? true : false);\r\n  const landing = JSON.parse(localStorage.getItem(\"showLanding\")) === false ? false\r\n  : (JSON.parse(sessionStorage.getItem(\"showLanding\")) === null || JSON.parse(sessionStorage.getItem(\"showLanding\")) === true) ? true : false;\r\n  const [showLanding, toggleShowLanding] = useState(landing);\r\n  const [showSnap, toggleShowSnap] = useState(false);\r\n  const [tempMarks, setTempMarks] = useState([]);\r\n  const [activeGid, setActiveGid] = useState((init && init.activeGid) ? init.activeGid : \"Group 1\");\r\n  const [displayGid, setDisplayGid] = useState(activeGid);\r\n  const [gids, setGids] = useState((init && init.gids) ? init.gids : [\"Group 1\"]);\r\n  const defaultMasterProps = {};\r\n  for (const gid of gids) defaultMasterProps[gid] = {};\r\n  const [masterProps, setMasterProps] = useState((init && init.masterProps) ? init.masterProps : defaultMasterProps);\r\n\r\n  return (\r\n    <div className=\"App\" style={style}>\r\n      {showLanding ? (\r\n        <Landing showLanding={showLanding} toggleShowLanding={toggleShowLanding} />\r\n      ) : (null)}\r\n      {!showSidebar ? (\r\n        (window.innerWidth > 1000) ? (\r\n          <div id=\"title\">\r\n            <div>\r\n                <h1>descartes v2.0</h1>\r\n            </div>\r\n            <div style={{display: \"flex\", alignItems: \"center\", float: \"right\"}}>\r\n                <button className=\"collapse\" title={showSidebar ? \"collapse\" : \"expand\"} onClick={() => {toggleShowSidebar(!showSidebar)}}><img src={Menu} alt=\"Menu\" width=\"12px\"></img></button>\r\n            </div>\r\n          </div>\r\n        ) : (\r\n          <div style={{display: \"flex\", alignItems: \"center\", position: \"absolute\", left: \"6px\", top: \"22.5px\", zIndex: \"3500\"}}>\r\n              <button className=\"collapse\" title={showSidebar ? \"collapse\" : \"expand\"} onClick={() => {toggleShowSidebar(!showSidebar)}}><img src={Menu} alt=\"Menu\" width=\"12px\"></img></button>\r\n          </div>\r\n        )\r\n      ) : (null)}\r\n      <Map points={points} setPoints={setPoints} \r\n      lines={lines} setLines={setLines} \r\n      areas={areas} setAreas={setAreas}\r\n      showSidebar={showSidebar} \r\n      tempMarks={tempMarks} setTempMarks={setTempMarks}\r\n      activeGid={activeGid} setActiveGid={setActiveGid} \r\n      displayGid={displayGid} setDisplayGid={setDisplayGid}\r\n      gids={gids} setGids={setGids} \r\n      masterProps={masterProps} setMasterProps={setMasterProps} />\r\n      {showSidebar ? (\r\n        <Sidebar \r\n        points={points} setPoints={setPoints}\r\n        lines={lines} setLines={setLines}\r\n        areas={areas} setAreas={setAreas} \r\n        toggleShowInput={toggleShowInput} toggleShowOutput={toggleShowOutput} \r\n        showSidebar={showSidebar} toggleShowSidebar={toggleShowSidebar}\r\n        showSnap={showSnap} toggleShowSnap={toggleShowSnap} \r\n        activeGid={activeGid} setActiveGid={setActiveGid} \r\n        displayGid={displayGid} setDisplayGid={setDisplayGid}\r\n        gids={gids} setGids={setGids}\r\n        masterProps={masterProps} setMasterProps={setMasterProps} />\r\n      ) : (null)}\r\n      {showSnap ? (\r\n        <SnapMenu lines={lines} setLines={setLines} \r\n        showSnap={showSnap} toggleShowSnap={toggleShowSnap} \r\n        tempMarks={tempMarks} setTempMarks={setTempMarks} activeGid={activeGid} />\r\n      ) : (null)}\r\n      {showOutput ? (\r\n        <Output showOutput={showOutput} toggleShowOutput={toggleShowOutput} \r\n        points={points} lines={lines} areas={areas} \r\n        gids={gids} activeGid={activeGid} masterProps={masterProps} />\r\n      ) : (null)}\r\n      {showInput ? (\r\n        <Input showInput={showInput} toggleShowInput={toggleShowInput} \r\n        points={points} setPoints={setPoints}\r\n        lines={lines} setLines={setLines}\r\n        areas={areas} setAreas={setAreas} \r\n        activeGid={activeGid} gids={gids} setGids={setGids} \r\n        masterProps={masterProps} setMasterProps={setMasterProps} />\r\n      ) : (null)}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}